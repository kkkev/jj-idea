{"id":"jj-idea-035","title":"Document custom log architecture in CLAUDE.md","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T18:55:41.87272Z","updated_at":"2026-02-04T18:32:29.463265Z","closed_at":"2026-02-04T18:32:29.463265Z","dependencies":[{"issue_id":"jj-idea-035","depends_on_id":"jj-idea-qvf","type":"blocks","created_at":"2025-12-21T18:56:15.520471Z","created_by":"daemon"}]}
{"id":"jj-idea-0ex","title":"Add icons for all custom actions","description":"For custom actions, add icons. Where appropriate, reuse existing IDEA icons.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T10:02:56.933085Z","updated_at":"2026-01-13T15:52:21.271506Z","closed_at":"2026-01-13T15:52:21.271506Z"}
{"id":"jj-idea-0ya","title":"Make file history view consistent with log","description":"The file history view currently is based on the legacy log view, with non-pretty columns for description and annotations. It would be better to base this on the custom log view with the prettier column with description and formatted indicators for immutable/empty/no description and bookmarks.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T08:48:14.032914Z","updated_at":"2026-01-16T08:48:14.032914Z"}
{"id":"jj-idea-0yh","title":"Enable cursor up/down navigation in compare popup","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T12:07:18.869244Z","updated_at":"2025-12-23T17:51:40.895596Z","closed_at":"2025-12-23T17:51:40.895596Z"}
{"id":"jj-idea-157","title":"Ensure log says \"no description\" if description is empty","description":"The log pane of the VCS tool window shows descriptions for each change. If the description is empty, it shows nothing. It would be great to show \"(No description)\" instead - ideally in italics, perhaps a different colour, according to style recommendations and feasibility.\n\nText should also be localisable.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T18:10:22.805169Z","updated_at":"2025-12-18T18:46:15.26593Z","closed_at":"2025-12-18T18:46:15.26593Z","external_ref":"gl-42"}
{"id":"jj-idea-15g","title":"Remove annotate icon","description":"The annotate action shouldn't have an icon - it needs to accommodate the tick in that space as it is togglable. The tick indicates whether or not the annotations are shown.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T18:10:22.484743Z","updated_at":"2026-01-13T15:52:14.221119Z","closed_at":"2026-01-13T15:52:14.221119Z","external_ref":"gl-36"}
{"id":"jj-idea-15z","title":"Show bookmarks consistently","description":"When showing bookmarks anywhere in the plugin, show consistently in the same way as the log table, i.e. with the bookmark icon in the right colour with the bookmark name to the right in a small, grey font. This applies to when showing in a description (e.g. the log description pane) or in any window that selects bookmarks (e.g. the log filter or compare with selector).","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-14T21:02:13.814281Z","updated_at":"2026-01-14T21:02:13.814281Z"}
{"id":"jj-idea-17x","title":"Fix silent error handling in JujutsuChangeProvider","description":"**File**: JujutsuChangeProvider.kt:33\n\n**Problem**: The code has `return // TODO Proper error handling` which silently swallows errors when `jj status` fails.\n\n**Current behavior**: When change detection fails, users get no feedback.\n\n**Expected behavior**: Log the error and/or show a notification to users that change detection failed.\n\n**Context**: This is part of the multi-root handling epic (jj-idea-dhd). Proper error handling is important for debugging and user feedback.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-28T19:00:51.335974Z","updated_at":"2026-01-29T11:26:02.859241Z","closed_at":"2026-01-29T11:26:02.859241Z","dependencies":[{"issue_id":"jj-idea-17x","depends_on_id":"jj-idea-dhd","type":"blocks","created_at":"2026-01-28T19:01:10.385676Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-1bt","title":"Somehow distinguish empty commits in the custom log","description":"The default log pane shows empty commits in grey. This may not work so well with our custom rendering of change ids, but we need to find a good way to distinguish empty commits. Perhaps grey descriptions/authors/dates etc.?","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-28T20:26:42.216207Z","updated_at":"2025-12-28T20:28:03.44556Z"}
{"id":"jj-idea-1f2","title":"Log graph rendering incorrect for merges","description":"Given these commits: py, wp, oq, rso, qn and child:parent relationships wp:py, oq:py, rso:wp, qp:rso,oq. The log graph in the custom log pane renders rso:oq and qn:rso instead - i.e. it thinks that rso (one of the parents) is the merge rather than qn.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T17:25:38.178961Z","updated_at":"2026-01-19T20:35:37.639803Z","closed_at":"2026-01-19T19:05:53.473551Z"}
{"id":"jj-idea-1j6","title":"Add file-specific read-only functions","description":"As per Git integration, allow these operations on a per-editor basis:\n* Annotate\n* Show diff\n* Compare with change/bookmark/tag\n* Show history\n* Show history for selection","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T18:10:21.998219Z","updated_at":"2025-12-12T10:13:41.78767Z","closed_at":"2025-12-12T10:13:41.78767Z","external_ref":"gl-27"}
{"id":"jj-idea-1ra","title":"Add split operation UI","description":"Allow users to split a change into multiple changes. This is a core JJ operation for breaking up large changes.\n\n## Requirements\n- Action available from log context menu\n- UI to select which files/hunks go into each resulting change\n- Refresh log after operation\n\n## Related\n- jj-idea-ah6: Rebase/squash operations UI","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-20T09:21:43.422961Z","updated_at":"2026-01-20T09:21:43.422961Z"}
{"id":"jj-idea-1rl","title":"Make description HTML rendering DRY","description":"Various parts of the application render descriptions and have to escape HTML. For example, tooltips and the log detail panel. Do this consistently in a single place.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-24T21:15:18.9404Z","updated_at":"2025-12-24T21:15:18.9404Z"}
{"id":"jj-idea-28v","title":"Working copy not always updating","description":"I have seen a problem whereby I create a new change externally, and the working copy window doesn't fully refresh. Hitting refresh updates the description, but not the file changes. The file changes appear to be relative to the previous parent rather than the new parent following external change creation.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-20T18:47:26.537817Z","updated_at":"2026-01-28T20:56:21.340042Z","closed_at":"2026-01-28T20:56:21.340042Z"}
{"id":"jj-idea-2myp","title":"Working copy drop-down appears for single-root projects","description":"The drop-down repo selector in the working copy tool window should be hidden if there is only a single JJ repo. Instead, it is present and empty.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-30T08:37:38.006482Z","updated_at":"2026-01-30T13:11:26.273992Z","closed_at":"2026-01-30T13:11:26.273992Z"}
{"id":"jj-idea-2ol","title":"Add workspace capability","description":"While the simple way to create a jj repository is via , the other way is to create a workspace based on an existing repo. This creates a jj repo that is not backed by a git repo in the same folder. This task involves adding workspace capability, which involves (1) creating a workspace from an existing jj repo, (2) maintaining these workspaces, i.e. listing and deleting them.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T17:15:30.258069Z","updated_at":"2026-01-20T17:15:30.258069Z"}
{"id":"jj-idea-2rc","title":"Make annotations highlight all lines in the change","description":"File annotations in Git highlight all other annotations in the same change in a different background colour. Do the same for Jujutsu file annotations.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-11T18:10:22.645395Z","updated_at":"2026-01-20T09:02:31.658439Z","external_ref":"gl-39"}
{"id":"jj-idea-2xf3","title":"Reference filter in the log only shows one instance of working copy","description":"Using the reference filter to filter out working copies only returns a single working copy, even if there are multiple repos. Instead, every repo's working copy should be returned.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:59:58.544318Z","updated_at":"2026-02-06T18:59:58.544318Z"}
{"id":"jj-idea-3ap","title":"Aid jj installation and detection","description":"Help users who don't have jj installed or whose jj is not detected.\n\n## Scenarios\n1. **jj not installed** - Detect and offer guidance on installation\n2. **jj not in PATH** - Help user locate or configure jj executable path\n3. **jj version too old** - Warn if installed version lacks required features\n\n## Potential features\n- Link to jj installation instructions (brew, cargo, etc.)\n- Auto-detect common installation locations\n- Prompt to configure path in settings when jj not found\n- Version check with minimum version requirement\n\n## Related\n- jj-idea-4eq: Allow to initialize a jj root (P0)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T09:32:10.040938Z","updated_at":"2026-01-20T09:32:10.040938Z","dependencies":[{"issue_id":"jj-idea-3ap","depends_on_id":"jj-idea-4eq","type":"blocks","created_at":"2026-01-20T09:32:14.922649Z","created_by":"daemon"}]}
{"id":"jj-idea-3bk","title":"Add filtering support to custom log","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-24T20:43:17.736186Z","updated_at":"2025-12-29T12:14:53.110419Z","closed_at":"2025-12-29T12:14:53.110419Z","dependencies":[{"issue_id":"jj-idea-3bk","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-24T20:44:46.67743Z","created_by":"daemon"}]}
{"id":"jj-idea-3jo","title":"Allow user to annotate old revisions","description":"Blame/annotate works on the working copy. It should also be able to work for other revisions. Enable this menu option for read-only editors on specific revisions. Ensure that JujutsuFileAnnotation.getCurrentRevision() returns the correct change id.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-16T18:43:35.703879Z","updated_at":"2026-01-20T09:02:31.362827Z"}
{"id":"jj-idea-3nl","title":"Add 'Create Jujutsu Repository...' action","description":"Similar to the Git action (GitInit in git4idea), have an action accessible from the VCS menu to create a jj repository in the current folder. Upon doing this, the relevant tool windows should appear.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T13:30:52.994508Z","updated_at":"2026-02-02T13:52:58.780827Z","closed_at":"2026-02-02T13:52:58.780827Z"}
{"id":"jj-idea-3rq","title":"Add configuration to choose custom vs standard log","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-24T20:44:34.835665Z","updated_at":"2025-12-24T20:44:34.835665Z","dependencies":[{"issue_id":"jj-idea-3rq","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-24T20:44:47.009134Z","created_by":"daemon"}]}
{"id":"jj-idea-3z9y","title":"Write enhanced plugin description for marketplace","description":"Expand the minimal 5-line plugin description to highlight JJ's unique workflow.\n\n## Files to Update\n- src/main/resources/META-INF/plugin.xml\n- .github/workflows/build.yml (updatePlugins.xml generation)\n\n## Content to Highlight\n- Describe-first workflow (JJ's killer feature)\n- Working copy is always a commit (continuous commits)\n- Custom log view with commit graph visualization\n- Multi-repository support\n- File history, annotations, diff viewer\n- Native IntelliJ integration (tool window, VCS menu)\n\n## Marketing Approach\nTarget JJ CLI power users seeking IDE integration.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-09T19:08:52.655147Z","updated_at":"2026-02-09T19:09:52.22017Z","closed_at":"2026-02-09T19:09:52.22017Z"}
{"id":"jj-idea-40h","title":"Consolidate LayoutCalculatorTest and CommitGraphBuilderTest","description":"These two tests have similar aims, but they overlap. Consolidate them where possible.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T14:05:20.93346Z","updated_at":"2026-01-20T14:05:20.93346Z"}
{"id":"jj-idea-424","title":"Error when removing current change","description":"Some VCS operations can remove the current change - abandon is an obvious one, but this can also happen when creating changes that cause the current (empty) change to be discarded. When this happens, the commit detail pane tries to refresh itself, causing the JujutsuFullCommitDetails to reload, but this reloading fails because the underlying change has gone. We need to change this situation to be expected, and defensively paint the commit details pane as if no commit has been selected in that situation. Ideally, the operation would already have refreshed the 'current selection' but this may happen later. As part of this fix, investigate sequencing around that to see if there is a neater way - i.e. the table realises that its current selection has disappeared, then clears the detail pane. Or: the detail pane realises that the current change has disappeared and sends a message to select the working copy in the table instead.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-28T13:17:03.272549Z","updated_at":"2026-01-30T13:24:17.608423Z","closed_at":"2026-01-30T13:24:17.608423Z"}
{"id":"jj-idea-43o","title":"Add edit function","description":"Allow users to edit a change. This performs a jj edit, i.e. moves the working copy to the selected change. Disable the action if the change is immutable. Update the log and working copy following the action.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T09:56:55.666729Z","updated_at":"2026-01-13T15:32:43.349998Z","closed_at":"2026-01-13T15:32:43.349998Z"}
{"id":"jj-idea-4eq","title":"Allow to initialise a jj root","description":"## Problem\n\nThe plugin needs to gracefully handle the case where it's used in a directory that is not a Jujutsu repository (no .jj directory found).\n\n## Current Behavior\n\n- JujutsuVcs has a `root` property that auto-discovers .jj directory by searching upward\n- Unclear what happens if no .jj directory is found in the project or any parent directories\n\n## Expected Behavior\n\nThe plugin should:\n1. Detect when no JJ repository is present\n2. Either disable itself gracefully or show a helpful message\n3. Not throw errors or crash\n4. Not show the Jujutsu tool window if not applicable\n\n## Testing Scenarios\n\n- [ ] Open project without .jj directory\n- [ ] Check if VCS is properly disabled\n- [ ] Verify no errors in IDE logs\n- [ ] Ensure Jujutsu tool window doesn't appear\n- [ ] Test with project that has Git but not JJ\n\n## Related Code\n\n- `JujutsuVcs.root` property (auto-discovery logic)\n- `JujutsuRootChecker` (currently disabled due to API changes)\n- VCS detection and initialization","notes":"Partial completion: User-facing error handling implemented\n\nThe three-tier VCS access pattern (commits 0d7e72f, c3e7f0f) addresses the user-facing error handling aspects:\n\n✅ Completed:\n- User-facing actions (context menus, toolbar actions) now use getVcsWithUserErrorHandling()\n- Shows friendly error dialog: \"This project is not configured for Jujutsu version control. To use Jujutsu, ensure the project has a .jj directory.\"\n- Logs at INFO level (user error, not plugin error)\n- Actions gracefully return null when VCS not found\n- Tool window availability controlled by initializedRoots state\n- JujutsuChangeProvider now skips uninitialized roots gracefully (no error when .jj deleted)\n\n✅ Testing scenarios validated:\n- Open project without .jj directory - works\n- VCS properly disabled - works  \n- No errors in IDE logs - works\n- Jujutsu tool window doesn't appear - works\n- Project with Git but not JJ - works\n- Deleting .jj directory - now handled gracefully\n\n⚠️ Related issue discovered:\n- jj-idea-xvdy: JJ init changes VCS mapping for all roots (separate bug)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T18:10:22.432305Z","updated_at":"2026-01-30T18:26:13.344298Z","closed_at":"2026-01-30T18:26:13.344298Z","external_ref":"gl-35","comments":[{"id":3,"issue_id":"jj-idea-4eq","author":"kevin","text":"When loading a non-JJ project and setting the project VCS to JJ, the JJ (working copy and log) windows are not present. While this is correct, it would be helpful to show at least one of the windows with a message that there is no JJ repository in the specified root, and give the user the opportunity to init (or git init if git is present).","created_at":"2026-01-16T08:32:21Z"},{"id":5,"issue_id":"jj-idea-4eq","author":"kevin","text":"We need an init action that takes a root and a colocate flag. Consistent with Git init, the VCS menu should have a 'Initialise Jujutsu Repository...' action. This needs to request a directory (via a File/Open dialog). If the directory is already initialised (or a directory above contains .jj), warn the user before continuing. If the directory (or one above) already has a git repo and the user has opted not to colocate, warn. Investigate options for requesting both a directory and a colocate checkbox. Ideally, this would be a dialog with both on it. The file dialog may need to be a modal from there (so the initial dialog contains the directory name with a button to pick the directory).","created_at":"2026-01-20T18:38:52Z"}]}
{"id":"jj-idea-4fv","title":"Implement VcsLogDiffHandler methods for comparing revisions from log","description":"Currently JujutsuLogDiffHandler has stub implementations for:\n- showDiff() - Compare two revisions\n- showDiffWithLocal() - Compare revision with local working copy\n- showDiffForPaths() - Compare specific paths between revisions\n\nThese are needed to enable diff operations from the VCS Log view (when right-clicking commits).\n\n**Location**: JujutsuLogProvider.kt lines 235-265\n\n**Acceptance Criteria**:\n- [ ] Implement showDiff() to compare any two revisions\n- [ ] Implement showDiffWithLocal() to compare revision with working copy\n- [ ] Implement showDiffForPaths() for multi-file diff\n- [ ] Test from VCS Log by right-clicking commits","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T18:36:38.377645Z","updated_at":"2026-02-08T19:12:52.276288Z","closed_at":"2026-02-08T19:12:52.276288Z","dependencies":[{"issue_id":"jj-idea-4fv","depends_on_id":"jj-idea-unt","type":"blocks","created_at":"2025-12-21T18:56:15.915461Z","created_by":"daemon"}]}
{"id":"jj-idea-4kg","title":"File history view (VcsHistoryProvider)","description":"**Priority**: HIGH (Phase 1 - Read-only features)\n**Effort**: 2-3 days\n\n## Description\nImplement VcsHistoryProvider to show per-file revision history.\n\n## User Experience\n- Right-click file → \"Show History\"\n- View all changes that touched the file\n- See change IDs, descriptions, dates\n- Compare any two revisions\n\n## Implementation\n```kotlin\nclass JujutsuHistoryProvider(private val vcs: JujutsuVcs) : VcsHistoryProvider {\n    override fun createSessionFor(filePath: FilePath): VcsHistorySession? {\n        // Execute: jj log path/to/file\n        // Parse into List\u003cVcsFileRevision\u003e\n        // Return JujutsuHistorySession\n    }\n}\n```\n\n## Commands\n- `jj log --template=\u003cfields\u003e path/to/file`\n- `jj file show -r \u003cchange-id\u003e path/to/file`\n\n## Registration\nAdd to `JujutsuVcs.kt`:\n```kotlin\noverride fun getVcsHistoryProvider() = JujutsuHistoryProvider(this)\n```\n\n## Acceptance Criteria\n- [ ] Right-click \"Show History\" works\n- [ ] Shows all revisions for file\n- [ ] Change IDs, descriptions, dates displayed\n- [ ] Can compare any two revisions\n- [ ] Threading: runs on background thread\n- [ ] Integrates with IntelliJ history UI\n\n## References\nSee ROADMAP.md Phase 1 - Read-only Features\nSee VCS_API_REFERENCE.md - VcsHistoryProvider section","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-11T18:10:21.277999Z","updated_at":"2025-12-17T20:58:30.377952Z","closed_at":"2025-12-15T13:21:22.409554Z","external_ref":"gl-14","labels":["enhancement","phase-1"]}
{"id":"jj-idea-4kg.1","title":"File history: Bookmark/tag filter (ref selection)","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T08:49:31.330493Z","updated_at":"2026-01-20T09:02:37.053896Z","dependencies":[{"issue_id":"jj-idea-4kg.1","depends_on_id":"jj-idea-4kg","type":"parent-child","created_at":"2025-12-15T08:49:31.333105Z","created_by":"daemon"}]}
{"id":"jj-idea-4kg.2","title":"File history: Toolbar actions at top","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T08:49:33.008032Z","updated_at":"2025-12-23T17:51:40.896902Z","closed_at":"2025-12-23T17:51:40.896902Z","dependencies":[{"issue_id":"jj-idea-4kg.2","depends_on_id":"jj-idea-4kg","type":"parent-child","created_at":"2025-12-15T08:49:33.008412Z","created_by":"daemon"}]}
{"id":"jj-idea-4kg.3","title":"File history: Details pane on right (not below)","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T08:49:34.596682Z","updated_at":"2026-01-20T09:02:37.110536Z","dependencies":[{"issue_id":"jj-idea-4kg.3","depends_on_id":"jj-idea-4kg","type":"parent-child","created_at":"2025-12-15T08:49:34.597019Z","created_by":"daemon"}]}
{"id":"jj-idea-4kg.4","title":"File history: Show all affected files in revision","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T08:49:36.312729Z","updated_at":"2026-01-20T09:02:37.156619Z","dependencies":[{"issue_id":"jj-idea-4kg.4","depends_on_id":"jj-idea-4kg","type":"parent-child","created_at":"2025-12-15T08:49:36.313056Z","created_by":"daemon"}]}
{"id":"jj-idea-4kg.5","title":"File history: Customizable columns from LogEntry","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T08:49:38.018441Z","updated_at":"2025-12-24T17:14:24.945436Z","closed_at":"2025-12-24T17:14:24.945436Z","dependencies":[{"issue_id":"jj-idea-4kg.5","depends_on_id":"jj-idea-4kg","type":"parent-child","created_at":"2025-12-15T08:49:38.018793Z","created_by":"daemon"}]}
{"id":"jj-idea-4kg.6","title":"File history: Distinguish author from committer","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T08:49:39.656482Z","updated_at":"2025-12-24T17:14:24.94431Z","closed_at":"2025-12-24T17:14:24.94431Z","dependencies":[{"issue_id":"jj-idea-4kg.6","depends_on_id":"jj-idea-4kg","type":"parent-child","created_at":"2025-12-15T08:49:39.65684Z","created_by":"daemon"}]}
{"id":"jj-idea-4kg.7","title":"File history: Mini diff viewer in details pane","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T08:49:41.283345Z","updated_at":"2026-01-20T09:02:37.205651Z","dependencies":[{"issue_id":"jj-idea-4kg.7","depends_on_id":"jj-idea-4kg","type":"parent-child","created_at":"2025-12-15T08:49:41.283684Z","created_by":"daemon"}]}
{"id":"jj-idea-4kg.8","title":"File history: Open in remote (GitLab/GitHub)","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T08:49:42.966238Z","updated_at":"2026-01-20T09:02:37.259147Z","dependencies":[{"issue_id":"jj-idea-4kg.8","depends_on_id":"jj-idea-4kg","type":"parent-child","created_at":"2025-12-15T08:49:42.966648Z","created_by":"daemon"}]}
{"id":"jj-idea-4ly","title":"Annotations: view colors and view names do not work","description":"","status":"open","priority":3,"issue_type":"bug","created_at":"2025-12-19T16:20:33.67509Z","updated_at":"2026-02-04T18:21:57.144703Z"}
{"id":"jj-idea-4rdy","title":"Show history view should use JJ log","description":"The show history view currently uses the native log view. It would be better to use the custom log view. From here, 'open in JJ log' should open in the custom log view, not the native log view","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T12:32:17.459703Z","updated_at":"2026-02-09T15:12:50.046019Z","closed_at":"2026-02-09T15:12:50.046019Z"}
{"id":"jj-idea-4ti","title":"Annotation/names menu doesn't change the display of annotation names","description":"","status":"open","priority":3,"issue_type":"bug","created_at":"2025-12-26T18:26:01.087273Z","updated_at":"2025-12-26T18:26:01.087273Z"}
{"id":"jj-idea-4tz","title":"Use short names for multi-root log tab display names","description":"**File**: JujutsuCustomLogTabManager.kt:44\n\n**TODO**: \"Each root should have a short name: the directory name if unique, otherwise enough of the parent path up to the project root to guarantee uniqueness\"\n\n**Context**: When multiple JJ roots exist, each gets a log tab. The display name should be short but unambiguous.\n\n**Current behavior**: Uses full `relativePath` in display name: `\"Jujutsu Log\" + root.relativePath.let { if (it.isEmpty()) \"\" else \": $it\" }`\n\n**Recommended algorithm**:\n1. If only one root: \"Jujutsu Log\" (no suffix needed)\n2. If multiple roots with unique directory names: use directory name only\n3. If directory names conflict: add enough parent path to disambiguate\n\n**Example**:\n- Roots: `/project/frontend`, `/project/backend`\n- Display: \"Jujutsu Log: frontend\", \"Jujutsu Log: backend\"\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T19:14:37.460249Z","updated_at":"2026-01-28T20:56:07.434271Z","closed_at":"2026-01-28T20:56:07.434271Z","dependencies":[{"issue_id":"jj-idea-4tz","depends_on_id":"jj-idea-dhd","type":"blocks","created_at":"2026-01-28T19:16:56.152422Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-4y1","title":"Make compare popup list take full width of dialog","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T12:07:18.725112Z","updated_at":"2025-12-24T17:14:24.942392Z","closed_at":"2025-12-24T17:14:24.942392Z"}
{"id":"jj-idea-4yi","title":"Move error-handling logic from JujutsuVcs companion to JJ root","description":"**File**: JujutsuVcs.kt:83\n\n**TODO**: \"Move this error-handling logic to JJ root\"\n\n**Context**: The `getVcsWithUserErrorHandling` function in JujutsuVcs companion object handles the case when VCS is not configured. The TODO suggests this logic belongs elsewhere, possibly in JujutsuRepository or a root-level utility.\n\n**Recommendation**: Review where this logic best belongs architecturally. Consider:\n- Keep in JujutsuVcs if it's VCS-specific\n- Move to JujutsuRepository if it's root-specific\n- Create a dedicated error handling utility\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-28T19:08:17.439513Z","updated_at":"2026-01-29T13:12:38.855376Z","closed_at":"2026-01-29T13:12:38.855376Z"}
{"id":"jj-idea-51q","title":"Git clone and jj init workflow","description":"Allow users to clone a git remote and initialize jj in one workflow.\n\n## Use case\nUser wants to start working on an existing git repository using jj. Currently they must:\n1. Clone the repo with git (or jj git clone)\n2. Run jj git init (if cloned with git)\n3. Open in IDE\n\n## Proposed workflow\n- Action: 'Clone Git Repository with Jujutsu'\n- Prompts for git remote URL\n- Clones using `jj git clone` \n- Opens the project in IDE with jj already configured\n\n## Alternative\n- Detect git repos without jj and offer to initialize jj\n- Could be connected to jj-idea-4eq (initialize jj root)\n\n## Related\n- jj-idea-4eq: Allow to initialize a jj root (P0)\n- jj-idea-9q7: Git remote operations (P4)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-20T09:32:10.262588Z","updated_at":"2026-01-20T09:32:10.262588Z","dependencies":[{"issue_id":"jj-idea-51q","depends_on_id":"jj-idea-4eq","type":"blocks","created_at":"2026-01-20T09:32:14.965484Z","created_by":"daemon"}]}
{"id":"jj-idea-53v","title":"Create JujutsuColumnManager to control column list","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:42.421911Z","updated_at":"2025-12-23T17:48:32.984607Z","closed_at":"2025-12-23T17:48:32.984607Z","dependencies":[{"issue_id":"jj-idea-53v","depends_on_id":"jj-idea-7o5","type":"blocks","created_at":"2025-12-21T18:56:14.549914Z","created_by":"daemon"},{"issue_id":"jj-idea-53v","depends_on_id":"jj-idea-num","type":"blocks","created_at":"2025-12-21T21:01:50.477135Z","created_by":"daemon"}]}
{"id":"jj-idea-55k","title":"Revert action","description":"Have an action to \"revert\" a file to the previous state (I probably have the wrong JJ terminology for this). This action should be invocable from editors and from the working copy tool window.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T18:10:22.751905Z","updated_at":"2026-02-03T11:41:24.302275Z","closed_at":"2026-02-03T11:41:24.302275Z","external_ref":"gl-41"}
{"id":"jj-idea-57u","title":"Create basic table structure with GraphTableModel","description":"Create main panel layout with table.\n\nBuild JujutsuLogPanel:\n- JujutsuLogTable in JScrollPane\n- Basic toolbar (refresh button)\n- Integrate into tool window tab using ContentFactory\n- No details pane yet (Phase 4)\n\nSimple BorderLayout: toolbar NORTH, table CENTER.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:42.419545Z","updated_at":"2025-12-21T21:36:11.83799Z","closed_at":"2025-12-21T21:36:11.83799Z","dependencies":[{"issue_id":"jj-idea-57u","depends_on_id":"jj-idea-9to","type":"blocks","created_at":"2025-12-21T18:56:14.330175Z","created_by":"daemon"},{"issue_id":"jj-idea-57u","depends_on_id":"jj-idea-x6m","type":"blocks","created_at":"2025-12-21T20:55:49.08994Z","created_by":"daemon"}]}
{"id":"jj-idea-5gw","title":"Test column functionality (sort, resize, visibility)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:43.033891Z","updated_at":"2026-01-11T18:49:45.299845Z","closed_at":"2026-01-11T18:49:45.299845Z","dependencies":[{"issue_id":"jj-idea-5gw","depends_on_id":"jj-idea-8pt","type":"blocks","created_at":"2025-12-21T18:56:14.677488Z","created_by":"daemon"}]}
{"id":"jj-idea-5k6","title":"Add @ reference to the log","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T20:42:22.341195Z","updated_at":"2025-12-28T18:02:24.7251Z","closed_at":"2025-12-28T18:02:24.7251Z"}
{"id":"jj-idea-5xf","title":"Format icons for bookmarks, changes etc. consistently","description":"When bookmarks and changes are formatted in HTML, we currently use Unicode characters rather than standard icons. Use icons instead, determining the URL for the image from the icon resource URL. Update all places where bookmarks and changes are shown (e.g. in the commit details panel), looking for unicode characters where appropriate.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-28T14:26:39.476216Z","updated_at":"2025-12-28T14:26:39.476216Z"}
{"id":"jj-idea-6b4","title":"Implement 'Show Changes' action in custom log","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T10:48:25.306897Z","updated_at":"2026-01-14T09:11:52.795581Z","closed_at":"2026-01-14T09:11:52.795581Z"}
{"id":"jj-idea-6d7","title":"Research VcsLogUi architecture and lifecycle","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T17:12:21.004886Z","updated_at":"2025-12-21T18:58:28.082836Z","closed_at":"2025-12-21T18:58:28.082836Z","dependencies":[{"issue_id":"jj-idea-6d7","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-20T17:12:28.551861Z","created_by":"daemon"}]}
{"id":"jj-idea-6gx","title":"Implement details pane for commit info","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:43.025909Z","updated_at":"2025-12-28T14:46:23.596577Z","closed_at":"2025-12-28T14:46:23.596577Z","dependencies":[{"issue_id":"jj-idea-6gx","depends_on_id":"jj-idea-5gw","type":"blocks","created_at":"2025-12-21T18:56:15.256977Z","created_by":"daemon"}]}
{"id":"jj-idea-6sg","title":"Combine graph and description in single column","description":"**Goal**: Maximize horizontal space by combining graph and description in same column (like IntelliJ's default VCS log).\n\n**Current**: Separate graph column and description column\n**Target**: Single column with:\n- Graph on left\n- Description left-aligned with rightmost lane\n- Status indicators + change ID before description\n- Decorations (tags/bookmarks/WC) on right with icons\n\n**Similar to**: Git plugin's commit table layout\n\n**Files**: JujutsuLogTableModel.kt, column renderers","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-23T10:51:31.56274Z","updated_at":"2025-12-23T15:57:54.586482Z","closed_at":"2025-12-23T15:57:54.586482Z"}
{"id":"jj-idea-6yy","title":"Clarify VcsExtensions naming: paths vs roots vs repositories","description":"**File**: VcsExtensions.kt:43, 48\n\n**TODOs**:\n- Line 43: \"This is silly - why not just the paths?\"\n- Line 48: \"Repositories? Roots? Which is it?\"\n\n**Context**: The extension properties `jujutsuRoots` returns `VcsRoot` objects but the code questions whether just paths would suffice. Also naming inconsistency between \"roots\" and \"repositories\".\n\n**Recommendation**: Establish clear naming conventions:\n- \"root\" = VirtualFile directory\n- \"repository\" = JujutsuRepository instance (wraps root with commands)\n- Consider simplifying `jujutsuRoots` to return paths directly if VcsRoot wrapper adds no value\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-28T19:08:03.954837Z","updated_at":"2026-01-29T13:12:38.854463Z","closed_at":"2026-01-29T13:12:38.854463Z"}
{"id":"jj-idea-767","title":"Working copy tool window should be visible only for projects with a JJ VCS configured","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-19T19:03:34.807331Z","updated_at":"2025-12-20T17:06:08.597333Z","closed_at":"2025-12-20T17:06:08.597333Z"}
{"id":"jj-idea-78i","title":"Ensure all actions can be configured with shortcuts","description":"For example, \"annotate\" never shows a keyboard shortcut. Ideally, this would reuse the \"Annotate\" action defined under \"VCS\".","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T18:10:22.321456Z","updated_at":"2026-02-08T19:10:05.468677Z","closed_at":"2026-02-08T19:10:05.468677Z","external_ref":"gl-33"}
{"id":"jj-idea-791","title":"Make change ids in working copy tool window clickable","description":"When a user clicks on a change id (either of the working copy or a parent) in the working copy tool window, it should select the specified change in the Jujutsu log pane. While here, find a more compact UX for displaying the parents. They can still be displayed in a smaller font, but maybe to the right of the current change id (rather than below) and with some kind of symbol (colon? arrow?) indicating that the change id represents a parent, or that the working copy inherits from or extends those parents. Find an appropriate UX here.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-13T15:20:47.00851Z","updated_at":"2026-01-13T15:20:47.00851Z"}
{"id":"jj-idea-7c7z","title":"Limit new change to parents of a single repo","description":"Currently, it is possible to select changes from multiple repositories as parents of a new change. This is invalid; all parents must be in the same repository. Use a common pattern for determining that changes are in the same repository.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-01T10:14:58.182916Z","updated_at":"2026-02-02T13:55:11.203092Z","closed_at":"2026-02-02T13:55:11.203092Z"}
{"id":"jj-idea-7gw","title":"Real-time status updates (auto-refresh)","description":"**Priority**: MEDIUM (Phase 1 - Read-only features)\n**Effort**: 1-2 days\n\n## Description\nAuto-refresh working copy status when files change on disk.\n\n## User Experience\n- File changes appear immediately in tool window\n- Status colors update automatically\n- No manual refresh needed\n\n## Implementation\n```kotlin\nclass JujutsuFileListener(private val project: Project) : VirtualFileListener {\n    override fun contentsChanged(event: VirtualFileEvent) {\n        VcsDirtyScopeManager.getInstance(project).fileDirty(event.file)\n    }\n}\n```\n\n## Registration\nIn `JujutsuVcs.activate()`:\n```kotlin\noverride fun activate() {\n    super.activate()\n    VirtualFileManager.getInstance().addVirtualFileListener(fileListener, this)\n}\n```\n\n## Acceptance Criteria\n- [ ] File edits trigger automatic refresh\n- [ ] File creation triggers refresh\n- [ ] File deletion triggers refresh\n- [ ] Listener registered in activate()\n- [ ] No performance issues with large projects\n- [ ] Optional: debouncing for rapid changes\n\n## References\nSee ROADMAP.md Phase 1 - Read-only Features\nSee VCS_API_REFERENCE.md - Virtual File Listener","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-11T18:10:21.346544Z","updated_at":"2025-12-11T21:42:41.428682Z","closed_at":"2025-12-11T21:42:41.428682Z","external_ref":"gl-15","labels":["enhancement","phase-1"]}
{"id":"jj-idea-7i0","title":"File blame/annotation (AnnotationProvider)","description":"**Priority**: MEDIUM (Phase 4 - Complex operations)\n**Effort**: 3-5 days\n\n## Description\nShow which change introduced each line of code.\n\n## Jujutsu Advantage\nChange IDs are stable (don't change on rebase) - better than Git!\n\n## User Experience\n- Right-click in editor → \"Annotate with Jujutsu\"\n- Gutter shows change IDs per line\n- Hover for full change description\n- Click to view change details\n\n## Implementation\n```kotlin\nclass JujutsuAnnotationProvider(private val vcs: JujutsuVcs) : AnnotationProvider {\n    override fun annotate(file: VirtualFile): FileAnnotation? {\n        // Execute: jj file annotate path\n        // Parse line-by-line annotations\n        // Return JujutsuFileAnnotation\n    }\n}\n```\n\n## Command\n- `jj file annotate path/to/file`\n\n## Registration\n```kotlin\noverride fun getAnnotationProvider() = JujutsuAnnotationProvider(this)\n```\n\n## Acceptance Criteria\n- [ ] Right-click \"Annotate\" works\n- [ ] Gutter shows change IDs\n- [ ] Hover shows full description\n- [ ] Click navigates to change\n- [ ] Multi-line changes handled\n- [ ] Performance OK for large files\n\n## References\nSee ROADMAP.md Phase 4 - Complex Operations\nSee VCS_API_REFERENCE.md - AnnotationProvider","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-11T18:10:21.835503Z","updated_at":"2025-12-12T07:46:49.096468Z","closed_at":"2025-12-12T07:46:49.096468Z","external_ref":"gl-24","labels":["enhancement","phase-4"]}
{"id":"jj-idea-7m8","title":"Add 'Show in Jujutsu Log' action from file history","description":"","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-24T16:52:54.261947Z","updated_at":"2025-12-24T17:19:28.355757Z"}
{"id":"jj-idea-7o5","title":"Wire custom UI into JujutsuCustomLogTabManager","description":"Wire custom table into tool window.\n\nUpdate JujutsuCustomLogTabManager to:\n- Create JujutsuLogPanel instance\n- Add as tab to Working copy tool window (or new Jujutsu tool window)\n- Handle tab lifecycle (open/close)\n- No VcsLogManager dependency\n\nDirect integration using ContentFactory.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:42.63735Z","updated_at":"2025-12-21T21:36:11.838926Z","closed_at":"2025-12-21T21:36:11.838926Z","dependencies":[{"issue_id":"jj-idea-7o5","depends_on_id":"jj-idea-jbb","type":"blocks","created_at":"2025-12-21T18:56:14.376752Z","created_by":"daemon"},{"issue_id":"jj-idea-7o5","depends_on_id":"jj-idea-57u","type":"blocks","created_at":"2025-12-21T18:56:14.418236Z","created_by":"daemon"}]}
{"id":"jj-idea-7vu","title":"Handle divergent changes (branch conflicts) in VCS log","description":"When JJ has divergent changes (same change ID pointing to multiple commits), they produce the same hash. This causes issues with IntelliJ's VCS log cache.\n\n## Current Workarounds\n\nThese fixes were added to address the assertion error:\n```\nAssertion failed: X details to store, yet Y indexes in cache\n```\n\n**Root cause**: IntelliJ's `TopCommitsCache.storeDetails()` uses `containsValue()` to filter duplicates, which relies on object equality. Without `equals`/`hashCode`, new metadata objects for the same commit were treated as different on refresh, causing the cache to have fewer entries than the result list.\n\n**Fixes applied**:\n1. Added `equals`/`hashCode` to `JujutsuCommitMetadataBase` and `JujutsuTimedCommit` based on change ID\n2. Added deduplication by hash in `readFirstBlock` and `readAllHashes`\n\n## Future Work\n\nCurrently we deduplicate by hash, which means only one divergent change is shown. Need to properly handle divergent changes to show all of them.\n\n## Related Code\n- jj/JujutsuCommitMetadataBase.kt - equals/hashCode implementation\n- vcs/JujutsuTimedCommit.kt - equals/hashCode implementation\n- vcs/JujutsuLogProvider.kt - deduplication logic\n\nSee: `jj log -r 'divergent_change_id'` to view divergent commits","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-28T18:04:29.943113Z","updated_at":"2026-02-08T10:19:28.074161Z","closed_at":"2026-02-08T10:19:28.074161Z"}
{"id":"jj-idea-7x4","title":"Draw pass-through lines when commits are non-adjacent","description":"Lines don't continue through intermediate cells when parent/child are separated\n\n**Problem**: Major rendering bug - lines disappear when commits aren't in consecutive rows\n\n**Current behavior**:\n- Commit A (row 0, lane 0) has child\n- Commit B (row 1, lane 1) - different branch  \n- Commit C (row 2, lane 0) - parent of A\n- Line from A stops, doesn't reach C\n\n**Root cause**: \nEach cell only draws to immediately adjacent rows. Need to track which lanes are 'active' and draw pass-through lines in intermediate cells.\n\n**Solution**:\nTrack active lanes at each row, draw continuation lines for lanes that pass through but don't have commits\n\n**Complexity**: High - requires redesigning how graph data flows to renderer\n\n**File**: JujutsuCommitGraph.kt, JujutsuGraphCellRenderer.kt","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-22T08:52:40.00211Z","updated_at":"2025-12-23T10:51:18.294945Z","closed_at":"2025-12-23T10:51:18.294945Z","dependencies":[{"issue_id":"jj-idea-7x4","depends_on_id":"jj-idea-num","type":"blocks","created_at":"2025-12-22T08:53:00.838196Z","created_by":"daemon"}]}
{"id":"jj-idea-850","title":"JujutsuLogPanel state listener should apply to whole log, not just working copy","description":"**File**: JujutsuLogPanel.kt:131\n\n**TODO**: \"Actually, should be against the whole log\"\n\n**Context**: The state listener currently listens to `workingCopies` changes:\n```kotlin\nworkingCopies.connect(this@JujutsuLogPanel) { old, new -\u003e\n    // These comparisons are painful - finer-grained messages would be better\n    if (old.filter { it.repo == root } != new.filter { it.repo == root }) {\n        refresh()\n    }\n}\n```\n\n**Problem**: The log panel only refreshes when working copy changes, but should refresh when any log entry changes (not just working copy).\n\n**Investigation needed**:\n1. Determine what events should trigger a log refresh\n2. Consider adding a \"log changed\" state to the state model\n3. Or use file system events on .jj directory\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T19:14:50.67532Z","updated_at":"2026-01-29T14:18:04.750799Z","closed_at":"2026-01-29T14:18:04.750799Z","dependencies":[{"issue_id":"jj-idea-850","depends_on_id":"jj-idea-dhd","type":"blocks","created_at":"2026-01-28T19:16:56.211815Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-8g6","title":"Refactor JujutsuStartupActivity to state model listener","description":"**File**: JujutsuStartupActivity.kt:16\n\n**Problem**: The TODO notes that log tab opening should be triggered by state model changes, not startup activity. Currently the startup activity manually checks `project.isJujutsu` and opens the custom log tab.\n\n**Current behavior**: Log tab opening is tied to IDE startup sequence.\n\n**Expected behavior**: Log tab opening should respond dynamically when VCS roots change (e.g., when user opens a new project or adds a new VCS root).\n\n**Context**: The ToolWindowEnabler already handles this via VcsRepositoryMappingListener. JujutsuStartupActivity is redundant (and commented out in plugin.xml). Consider either:\n1. Remove JujutsuStartupActivity entirely since ToolWindowEnabler handles it\n2. Or refactor to use state model listener pattern\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T19:00:58.867382Z","updated_at":"2026-01-29T14:18:04.682285Z","closed_at":"2026-01-29T14:18:04.682285Z","dependencies":[{"issue_id":"jj-idea-8g6","depends_on_id":"jj-idea-dhd","type":"blocks","created_at":"2026-01-28T19:01:10.485285Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-8ncu","title":"Add diff current change action","description":"Add an action to allow diffing current file in the working copy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-08T10:40:50.132857Z","updated_at":"2026-02-08T18:08:17.475047Z","closed_at":"2026-02-08T18:08:17.475047Z"}
{"id":"jj-idea-8pt","title":"Implement custom GraphTableModel with our columns","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:42.866008Z","updated_at":"2026-01-02T15:02:51.964927Z","closed_at":"2026-01-02T15:02:51.964927Z","dependencies":[{"issue_id":"jj-idea-8pt","depends_on_id":"jj-idea-aq7","type":"blocks","created_at":"2025-12-21T18:56:14.635052Z","created_by":"daemon"}]}
{"id":"jj-idea-8r9","title":"JujutsuRepository should map to VCS root allocated to Jujutsu","description":"**File**: JujutsuRepository.kt:16-17\n\n**TODOs**:\n- \"Should map to a VCS root allocated to Jujutsu\"\n- \"Figure out what to do for an uninitialised root\"\n\n**Context**: JujutsuRepository is currently constructed with any VirtualFile directory. It should validate that:\n1. The directory corresponds to a VCS root that IntelliJ has allocated to Jujutsu\n2. Handle uninitialised roots gracefully (the `isInitialised` property exists but behavior for uninitialised roots is unclear)\n\n**Related**: May overlap with jj-idea-4eq (allow to initialize a jj root)\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T19:07:56.027057Z","updated_at":"2026-01-29T13:12:38.856236Z","closed_at":"2026-01-29T13:12:38.856236Z"}
{"id":"jj-idea-8rqr","title":"Change branch references to use Jujutsu nomenclature","description":"There are references to branches throughout the plugin. Mostly, Jujutsu uses different terminology. Update these references accordingly. See 'Compare With Branch or Change...', for example.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-02-08T15:40:45.772558Z","updated_at":"2026-02-08T18:12:57.248757Z","closed_at":"2026-02-08T18:12:57.248757Z"}
{"id":"jj-idea-8u4","title":"Add visual indication that a change is immutable","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T13:40:04.228954Z","updated_at":"2026-01-13T21:51:02.113865Z","closed_at":"2026-01-13T21:51:02.113865Z"}
{"id":"jj-idea-93n","title":"Add tooltips to compare popup showing change details","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T12:07:19.220902Z","updated_at":"2025-12-20T15:01:12.147987Z","closed_at":"2025-12-20T15:01:12.147987Z"}
{"id":"jj-idea-949l","title":"Log pane text needs localising","description":"Some of the text in the log pane, e.g. to create tooltip HTML, is not localised to messages.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-29T21:14:51.224359Z","updated_at":"2026-01-29T21:14:51.224359Z"}
{"id":"jj-idea-9gh","title":"Create migration path for existing users","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-21T18:55:42.007766Z","updated_at":"2026-01-20T09:02:31.946511Z","dependencies":[{"issue_id":"jj-idea-9gh","depends_on_id":"jj-idea-qvf","type":"blocks","created_at":"2025-12-21T18:56:15.554388Z","created_by":"daemon"}]}
{"id":"jj-idea-9hb","title":"Add 'New Change From This' to multiple parents","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T20:06:49.174058Z","updated_at":"2026-01-15T21:00:43.990017Z","closed_at":"2026-01-15T21:00:43.990017Z","dependencies":[{"issue_id":"jj-idea-9hb","depends_on_id":"jj-idea-fpc","type":"blocks","created_at":"2026-01-11T20:06:56.248344Z","created_by":"daemon"},{"issue_id":"jj-idea-9hb","depends_on_id":"jj-idea-c9d","type":"blocks","created_at":"2026-01-11T20:06:56.291109Z","created_by":"daemon"}]}
{"id":"jj-idea-9q7","title":"Git remote operations (fetch/push)","description":"**Priority**: HIGH (Phase 3 - Remote operations)\n**Effort**: 2-3 days\n\n## Description\nFetch and push to Git remotes.\n\n## User Experience\n- \"Fetch\" action in VCS menu\n- \"Push\" action with bookmark selection\n- Progress indication\n- Show incoming/outgoing changes\n\n## Commands\n- `jj git fetch`\n- `jj git fetch --remote \u003cname\u003e`\n- `jj git push --bookmark \u003cname\u003e`\n- `jj git push --all`\n\n## Implementation\n```kotlin\n// Add to JujutsuCommandExecutor\nfun gitFetch(remote: String? = null): CommandResult\nfun gitPush(bookmark: String? = null, all: Boolean = false): CommandResult\nfun gitRemoteList(): CommandResult\n```\n\n## Acceptance Criteria\n- [ ] Fetch from Git remote\n- [ ] Push bookmark to remote\n- [ ] Push all bookmarks option\n- [ ] Select which remote to fetch/push\n- [ ] Progress indication\n- [ ] Error handling for auth issues\n- [ ] Success/failure notifications\n\n## References\nSee ROADMAP.md Phase 3 - Remote Operations","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-11T18:10:21.671362Z","updated_at":"2026-01-19T20:35:37.643523Z","external_ref":"gl-21","labels":["enhancement","phase-3"]}
{"id":"jj-idea-9t2","title":"Add branches/refs panel to custom log","description":"","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-24T20:43:02.186917Z","updated_at":"2026-01-20T09:02:30.925628Z","dependencies":[{"issue_id":"jj-idea-9t2","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-24T20:44:46.604781Z","created_by":"daemon"}]}
{"id":"jj-idea-9to","title":"Create VcsLogUiFactory for custom log UI","description":"Create custom JTable-based log table (no VcsLogUi dependency).\n\nBuild JujutsuLogTable extending JTable directly with:\n- Custom TableModel loading from LogService\n- Column definitions (Graph placeholder, Status, Change ID, Description, Author, Date)\n- Basic cell renderers (text only for now)\n\nNo dependency on VcsLogGraphTable or IntelliJ's VCS log infrastructure.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:42.127404Z","updated_at":"2025-12-21T21:36:11.835931Z","closed_at":"2025-12-21T21:36:11.835931Z","dependencies":[{"issue_id":"jj-idea-9to","depends_on_id":"jj-idea-6d7","type":"blocks","created_at":"2025-12-21T18:56:14.238365Z","created_by":"daemon"},{"issue_id":"jj-idea-9to","depends_on_id":"jj-idea-x6m","type":"blocks","created_at":"2025-12-21T20:55:49.014661Z","created_by":"daemon"}]}
{"id":"jj-idea-9y2","title":"Implement graph rendering in custom log UI","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:42.633685Z","updated_at":"2026-01-16T08:37:23.993301Z","closed_at":"2026-01-16T08:37:23.993301Z","dependencies":[{"issue_id":"jj-idea-9y2","depends_on_id":"jj-idea-5gw","type":"blocks","created_at":"2025-12-21T18:56:15.182291Z","created_by":"daemon"}]}
{"id":"jj-idea-9zmn","title":"Refactor log window to show all roots with root filter","description":"Refactor the log window to display all JJ roots in a single unified log view.\n\n## Current Behavior\nEach root gets its own log tab (\"Jujutsu Log\" or \"Jujutsu Log: \u003cpath\u003e\").\n\n## Proposed Design\n\n### Single Log View\n- Combine all roots into one log view\n- Interleave commits from all roots chronologically (or by other sort criteria)\n- Each commit shows which root it belongs to\n\n### Root Filter\n- Add filter control to show/hide commits by root\n- Similar to branch filter in Git plugins\n- Default: show all roots\n- Quick toggles per root\n\n### Visual Indicators\n- Root indicator column or icon per commit\n- Color coding or badges to distinguish roots\n- Clear which root each commit belongs to\n\n## Considerations\n- How to handle commit selection across roots\n- Details pane should show root context\n- Graph rendering with multiple disconnected DAGs\n- Performance with many roots\n\n**Related**: jj-idea-j50p (working copy refactor)\n**Part of**: jj-idea-dhd (multi-root handling epic)","notes":"Implemented unified log view with root filtering:\n\n## Changes Made\n\n1. **UnifiedJujutsuLogDataLoader.kt** (new)\n   - Loads commits from all JJ repositories in parallel\n   - Merges results sorted by timestamp (newest first)\n   - Uses CountDownLatch for concurrent loading\n\n2. **JujutsuLogTableModel** (modified)\n   - Added `rootFilter` field and `setRootFilter()` method\n   - Added `getAllRoots()` method for filter UI\n   - Updated `applyFilter()` to include root filtering\n\n3. **JujutsuRootFilterComponent.kt** (new)\n   - Filter component following existing filter pattern\n   - Shows all available roots with toggle\n   - Default: show all roots (no filtering)\n   - Only visible when multiple roots exist\n\n4. **UnifiedJujutsuLogPanel.kt** (new)\n   - Unified panel accepting Project instead of single root\n   - Uses UnifiedJujutsuLogDataLoader\n   - Includes root filter in toolbar\n   - Listens to state changes from all repositories\n\n5. **JujutsuCustomLogTabManager** (modified)\n   - Creates single unified \"Jujutsu Log\" tab\n   - Removed per-root tab creation\n   - Simplified tab management\n\n6. **JujutsuCommitDetailsPanel** (modified)\n   - Now accepts Project instead of single root\n   - Gets repo context from LogEntry.repo when needed\n   - Backward-compatible constructor for existing code\n\n7. **JujutsuGraphAndDescriptionRenderer** (modified)\n   - Added root indicator in tooltip\n   - Shows [rootName] badge when multiple roots exist\n   - Visual indicator in italics after status icons\n\n8. **JujutsuRepository** (modified)\n   - Added `displayName` property for UI display\n\n9. **JujutsuBundle.properties** (modified)\n   - Added log.filter.root and log.filter.root.all messages","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T20:46:18.149806Z","updated_at":"2026-01-30T11:55:23.657701Z","closed_at":"2026-01-30T11:55:23.657701Z","dependencies":[{"issue_id":"jj-idea-9zmn","depends_on_id":"jj-idea-dhd","type":"blocks","created_at":"2026-01-28T20:46:21.972953Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-acf","title":"Add commit details panel to custom log","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-24T20:42:54.490985Z","updated_at":"2025-12-28T14:19:52.371451Z","closed_at":"2025-12-28T14:19:52.371451Z","dependencies":[{"issue_id":"jj-idea-acf","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-24T20:44:46.495666Z","created_by":"daemon"}]}
{"id":"jj-idea-adr","title":"Refresh log and working copy after 'New Change' action","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T20:06:48.697481Z","updated_at":"2026-01-12T17:52:17.013333Z","closed_at":"2026-01-12T17:52:17.013333Z"}
{"id":"jj-idea-ah6","title":"Rebase/squash operations UI","description":"**Priority**: LOW (Phase 4 - Complex operations)\n**Effort**: 4-6 days\n\n## Description\nVisual rebase, squash, and split operations.\n\n## Commands\n- `jj rebase -r \u003cchange-id\u003e -d \u003cdestination\u003e`\n- `jj squash`\n- `jj squash -r \u003cchange-id\u003e`\n- `jj split`\n\n## User Experience\n- Select change in log → \"Rebase onto...\"\n- \"Squash into Parent\" action\n- \"Split Change\" with interactive mode\n\n## Acceptance Criteria\n- [ ] Rebase action from context menu\n- [ ] Select destination change\n- [ ] Squash action available\n- [ ] Split with UI for selecting changes\n- [ ] Preview of result\n- [ ] Error handling for conflicts\n\n## References\nSee ROADMAP.md Phase 4 - Complex Operations","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-11T18:10:21.944186Z","updated_at":"2026-01-20T09:21:43.00667Z","external_ref":"gl-26","labels":["enhancement","phase-4"]}
{"id":"jj-idea-al2","title":"Old custom log columns appear for non-JJ VCSes","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-21T20:47:58.672642Z","updated_at":"2026-02-09T15:04:46.407057Z","closed_at":"2026-02-09T15:04:46.407057Z"}
{"id":"jj-idea-am3","title":"Add visual indicator for empty changes in log pane","description":"The custom log pane currently shows all changes the same way. Empty changes (commits with no file changes) should have a visual indicator to distinguish them from regular changes.\n\nSuggestions:\n- Add '(empty)' text in gray next to the change ID, similar to how jj log displays it\n- Use a different icon or color scheme for empty changes\n- Consider showing this in the description column if no description is set\n\nThis helps users quickly identify empty working-copy changes or placeholder commits without having to check the file changes.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T18:16:29.239215Z","updated_at":"2026-01-13T21:51:02.115329Z","closed_at":"2026-01-13T21:51:02.115329Z"}
{"id":"jj-idea-aq7","title":"Integrate existing custom columns into custom UI","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:42.636082Z","updated_at":"2026-01-02T15:01:12.80848Z","closed_at":"2026-01-02T15:01:12.80848Z","dependencies":[{"issue_id":"jj-idea-aq7","depends_on_id":"jj-idea-53v","type":"blocks","created_at":"2025-12-21T18:56:14.592918Z","created_by":"daemon"}]}
{"id":"jj-idea-ar6","title":"Verify threading correctness in JujutsuCompareWithBranchAction","description":"**File**: JujutsuCompareWithBranchAction.kt:35\n\n**Problem**: There is a TODO questioning whether the threading is correct. The code calls `invokeLater` from the action's `actionPerformed` which runs on BGT (Background Thread) since the action has `getActionUpdateThread() = ActionUpdateThread.BGT`.\n\n**Analysis needed**:\n1. Is calling `invokeLater` from BGT correct? (Should be fine - invokeLater schedules on EDT)\n2. The popup `JujutsuCompareWithPopup.show()` needs to run on EDT (which `invokeLater` ensures)\n3. The diff content loading correctly uses `executeOnPooledThread` then `invokeLater` for EDT\n\n**Likely resolution**: The threading appears correct - `invokeLater` is the right way to get onto EDT from BGT. The TODO can probably be removed after verification.\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-28T19:01:06.700904Z","updated_at":"2026-01-29T11:26:02.856881Z","closed_at":"2026-01-29T11:26:02.856881Z","dependencies":[{"issue_id":"jj-idea-ar6","depends_on_id":"jj-idea-dhd","type":"blocks","created_at":"2026-01-28T19:01:10.634392Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-b5wg","title":"Log sometimes goes backwards","description":"The log has been observed to go backwards. Specifically, there are cases where a parent precedes its child. This confuses the log display. We need to ensure that the order in which Jujutsu returns the log follows the DAG of the changes.","notes":"## Investigation Results (Updated)\n\n### Root Cause\nThe bug affects **ALL projects** (single and multi-root), not just multi-root.\n\n**Location**: `UnifiedJujutsuLogDataLoader.kt:127`\n\n```kotlin\nallEntries = entriesByRepo.values.flatten()\n    .sortedByDescending { it.authorTimestamp ?: it.committerTimestamp }\n```\n\n### Why It Affects All Projects\n\n1. `JujutsuCustomLogTabManager` ALWAYS creates `UnifiedJujutsuLogPanel` (line 56)\n2. `UnifiedJujutsuLogPanel` uses `UnifiedJujutsuLogDataLoader`\n3. `UnifiedJujutsuLogDataLoader.loadCommits()` sorts ALL entries by timestamp\n4. The single-root `JujutsuLogPanel` (which doesn't sort) exists but is **never used**\n\n### Verified Example\n\nIn jj-idea project itself:\n- `qp` (child, timestamp 14:07) has parent `yp` (timestamp 15:21)\n- jj returns them correctly: `qp` before `yp` (children before parents)\n- Plugin sorts by timestamp: `yp` (15:21) before `qp` (14:07)\n- Graph displays incorrectly with parent before child\n\n### Why Timestamp Sorting Breaks DAG\n\nThe graph layout algorithm (`LayoutCalculatorImpl`) assumes children come before parents:\n\n```kotlin\n// Line 97-98: Expects parent row \u003e child row\nval nonAdjacentParents = entry.parents.filter { parentId -\u003e\n    val parentRow = rowByChangeId[parentId]\n    parentRow != null \u0026\u0026 parentRow \u003e rowIndex + 1\n}\n```\n\nWhen a parent appears first (due to timestamp sorting):\n- Parent's lane is assigned without knowing about its children\n- Child can't find parent at expected position\n- Passthrough lines don't render correctly\n\n### Proposed Fix\n\nRemove the timestamp sorting entirely. JJ already returns commits in correct topological order. For multi-root projects, we need a proper merge algorithm that respects DAG constraints.\n\n**Option 1 (Simple)**: For single-root, use jj's order directly. For multi-root, topologically sort after merging.\n\n**Option 2 (Better UX)**: Stable topological sort that uses timestamp as tiebreaker only for unrelated commits (different branches/repos), while always respecting parent-child ordering.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-04T20:46:01.914489Z","updated_at":"2026-02-09T11:25:34.424906Z","closed_at":"2026-02-09T11:25:34.424906Z"}
{"id":"jj-idea-b7qp","title":"Extra log columns for non-JJ projects","description":"If a project without Jujutsu roots is opened, the change id column is still added to the native log pane. If there are no Jujutsu roots, this custom column should not be present","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-31T10:20:30.561628Z","updated_at":"2026-02-09T13:30:39.676899Z","closed_at":"2026-02-09T13:30:39.676899Z"}
{"id":"jj-idea-bkm","title":"Format change ids in file annotations","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T18:29:59.907022Z","updated_at":"2025-12-19T19:22:55.463211Z","closed_at":"2025-12-19T19:22:55.463211Z"}
{"id":"jj-idea-bp5k","title":"key mapping error","description":"com.intellij.diagnostic.PluginException: first-keystroke attribute has invalid value for action with id=Jujutsu.ShowChangesDiff (module=PluginMainDescriptor(name=Jujutsu VCS Integration, id=in.kkkev.jj-idea, version=0.2.0-SNAPSHOT, isBundled=false, path=~/workspace/jj-idea/build/idea-sandbox/IC-2025.2/plugins/jj-idea)) [Plugin: in.kkkev.jj-idea]","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-10T13:34:29.418209Z","updated_at":"2026-02-10T13:34:29.418209Z"}
{"id":"jj-idea-c5p","title":"Wire custom VcsLogUi into tool window","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T17:12:21.426376Z","updated_at":"2025-12-21T18:58:03.205322Z","closed_at":"2025-12-21T18:58:03.205322Z","dependencies":[{"issue_id":"jj-idea-c5p","depends_on_id":"jj-idea-uhu","type":"blocks","created_at":"2025-12-20T17:12:28.665686Z","created_by":"daemon"}]}
{"id":"jj-idea-c9c","title":"Fix VCS menu visibility for Open Jujutsu Log action","description":"## Problem\nThe 'Open Jujutsu Log' action works via Find Action (Cmd+Shift+A) but doesn't appear in the VCS menu.\n\n## What We Tried\n1. VcsGroup with anchor=\"last\" - didn't work\n2. VcsGlobalGroup with relative-to - didn't work  \n3. VcsGroup with anchor=\"first\" - didn't work\n4. Added to ToolsMenu - worked, but not desired location\n\n## Current State\n- ✅ Action works perfectly via Find Action\n- ✅ Functionality is solid\n- ❌ Not visible in VCS menu\n- ❌ Jujutsu.EditorGroup submenu also not showing in VCS menu\n\n## To Investigate\n1. Why is VcsGroup being filtered for our actions?\n2. Is there a VCS activation/registration issue?\n3. Do we need to implement a VCS-specific action group?\n4. Check how Git plugin adds actions to VCS menu\n5. Consider creating custom top-level Jujutsu menu\n\n## References\n- plugin.xml lines 56-61\n- OpenJujutsuLogTabAction.kt\n- Jujutsu.EditorGroup (lines 64-71) also not showing","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-21T21:36:05.12897Z","updated_at":"2026-01-31T13:34:06.012839Z","closed_at":"2026-01-31T13:34:06.012839Z"}
{"id":"jj-idea-c9d","title":"Design UI behavior for multiple selection in log (what to show in details/changes panes)","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T20:06:49.015739Z","updated_at":"2026-01-11T20:06:49.015739Z","dependencies":[{"issue_id":"jj-idea-c9d","depends_on_id":"jj-idea-fpc","type":"blocks","created_at":"2026-01-11T20:06:56.335675Z","created_by":"daemon"}],"comments":[{"id":7,"issue_id":"jj-idea-c9d","author":"Kevin Thomas","text":"Investigate git4idea. It looks like it has a sensible UX whereby the commit details contains a union of the selected commits, i.e. the changes list shows all changes from all selected commits (presumably handling duplicates where files change in multiple selected commits) and the detail panel shows a list of details, i.e. all change id/commit id/branch/description etc. in a mini-panel per commit. This should be consistent with that, where possible. If merging changes is difficult, start with a simple implementation and break more complex edge cases out into separate tasks, so long as the edge cases degrade gracefully.","created_at":"2026-02-09T17:36:02Z"}]}
{"id":"jj-idea-cb3r","title":"Commit details panel file change menu not standard","description":"The action menu on a file change in the commit details panel is custom, with custom actions. It would be better to reuse existing actions so that their shortcuts, icons, names and functionality are consistent throughout the application.","notes":"## Analysis (2026-02-08)\n\nThe commit details panel file change context menu uses **custom Jujutsu-specific actions** rather than **standard platform actions**.\n\n### Current implementation (`fileChangeActionGroup()`):\n- `Jujutsu.ShowChangesDiff`\n- `Jujutsu.CompareWithLocal`\n- `Jujutsu.CompareBeforeWithLocal`\n- `Jujutsu.OpenChangeFile`\n- `Jujutsu.OpenRepositoryVersion`\n- `Jujutsu.RestoreFile` / `Jujutsu.RestoreToChange`\n\n### Standard platform approach (`Vcs.RepositoryChangesBrowserMenu`):\n- `Vcs.ShowDiffWithLocal`\n- `Vcs.ShowDiffWithLocal.Before`\n- `Vcs.EditSource`\n- `Vcs.OpenRepositoryVersion`\n- `Vcs.RevertSelectedChanges`\n- `Vcs.GetVersion`\n- `Vcs.ShowHistoryForRevision`\n\n### How platform actions work\n\nPlatform actions like `Vcs.ShowDiffWithLocal` use an **extension provider pattern** (`AnActionExtensionProvider`). Each context registers a provider that:\n1. Checks `isActive()` for relevant data keys (e.g., `VcsLogDataKeys.VCS_LOG_COMMIT_SELECTION`)\n2. Implements `update()` and `actionPerformed()` for that context\n\nThis gives consistent shortcuts, icons, names, and localization across all VCS plugins.\n\n### To fix\n\n1. Register `AnActionExtensionProvider` implementations for standard actions that work with Jujutsu's data context\n2. Ensure `JujutsuChangesTree.uiDataSnapshot()` provides the data keys the providers expect\n3. Use standard action group `Vcs.RepositoryChangesBrowserMenu` instead of custom `fileChangeActionGroup()`\n\n### References\n- `VcsLogChangesBrowser.kt` - uses `Vcs.Log.ChangesBrowser.Popup` which references `Vcs.RepositoryChangesBrowserMenu`\n- `VcsActions.xml` - defines `Vcs.RepositoryChangesBrowserMenu` group\n- `ShowDiffAfterWithLocalFromLogActionProvider.java` - example extension provider","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-07T12:04:04.59648Z","updated_at":"2026-02-08T21:03:03.999888Z"}
{"id":"jj-idea-cc6","title":"Implement platform-style icons in Description renderer","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:42.861237Z","updated_at":"2026-01-14T15:17:30.105733Z","closed_at":"2026-01-14T15:17:30.105733Z","dependencies":[{"issue_id":"jj-idea-cc6","depends_on_id":"jj-idea-u29","type":"blocks","created_at":"2025-12-21T18:56:14.888958Z","created_by":"daemon"}]}
{"id":"jj-idea-cdi","title":"Add console tab","description":"The Git plugin puts its console output into a tab in the VCS tool window. Do the same for JJ, and capture all command output (and input) in there.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-21T20:51:59.18033Z","updated_at":"2026-01-21T20:51:59.18033Z"}
{"id":"jj-idea-cgx","title":"Conflict resolution UI","description":"**Priority**: HIGH (Phase 4 - Complex operations)\n**Effort**: 3-4 days\n\n## Description\nDetect and resolve merge conflicts in working copy.\n\n## User Experience\n- Conflicted files show RED in tree\n- Right-click → \"Show Conflict\" opens 3-way merge editor\n- \"Mark Resolved\" action\n- Gutter indicators for conflict regions\n\n## Implementation\n```kotlin\nclass JujutsuMergeProvider(private val vcs: JujutsuVcs) : MergeProvider {\n    override fun loadRevisions(file: VirtualFile): MergeData {\n        // Parse conflict markers\n        // Return base, ours, theirs\n    }\n}\n```\n\n## Conflict Detection\n```kotlin\nfun isConflicted(file: VirtualFile): Boolean {\n    return content.contains(\"\u003c\u003c\u003c\u003c\u003c\u003c\u003c\") \u0026\u0026\n           content.contains(\"=======\") \u0026\u0026\n           content.contains(\"\u003e\u003e\u003e\u003e\u003e\u003e\u003e\")\n}\n```\n\n## Registration\n```kotlin\noverride fun getMergeProvider() = JujutsuMergeProvider(this)\n```\n\n## Acceptance Criteria\n- [ ] Conflicted files show RED\n- [ ] 3-way merge editor works\n- [ ] \"Mark Resolved\" action\n- [ ] FileStatus.CONFLICTED\n- [ ] Handles Jujutsu conflict format\n- [ ] Multiple conflicts in same file\n\n## References\nSee ROADMAP.md Phase 4 - Complex Operations\nSee VCS_API_REFERENCE.md - MergeProvider","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-11T18:10:21.78104Z","updated_at":"2026-01-13T10:56:00.016844Z","external_ref":"gl-23","labels":["enhancement","phase-4"]}
{"id":"jj-idea-ch0k","title":"Create change action menu","description":"Currently, the changes list has a custom context menu built in the unified working copy panel. In reality, we'll want various change-related actions to appear in any menu selected from a file change. This could be the unified working copy panel, but could also be a change from the log detail. We will need the concept of a file change being mutable/immutable as some actions will only be relevant to mutable file changes. Others (e.g. restore working copy to this version) will be relevant only to historical (probably immutable) file versions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T17:55:37.974303Z","updated_at":"2026-02-08T10:43:29.26144Z","closed_at":"2026-02-08T10:43:29.26144Z"}
{"id":"jj-idea-cjy","title":"Custom log pane description indent: respect lanes above","description":"The custom log pane indents the description according to used lanes. However, it only does this for lanes in use at the current row. Given that lanes above take up space in the current row too, we need to respect the lanes in use in the previous row.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-28T14:41:24.260622Z","updated_at":"2026-01-19T20:35:37.644032Z","closed_at":"2026-01-19T19:02:28.728189Z"}
{"id":"jj-idea-ckl","title":"Visual polish: themes, scaling, tooltips","description":"Visual polish pass for custom log UI to ensure professional appearance across themes, display scales, and with proper tooltips.\n\n## Issues Found\n\n### P0 - Critical (Must Fix)\n\n1. **Hardcoded graph colors don't adapt to themes**\n   - File: `JujutsuCommitGraph.kt:51-58`\n   - Issue: Uses `Color(0x...)` instead of `JBColor`\n   - Impact: Poor contrast in dark theme, unprofessional appearance\n   - Fix: Replace with `JBColor(lightColor, darkColor)` pairs\n\n2. **Hardcoded graph dimensions break HiDPI**\n   - File: `JujutsuGraphAndDescriptionRenderer.kt:36-39`\n   - Issue: `LANE_WIDTH=16`, `ROW_HEIGHT=22`, etc. are hardcoded ints\n   - Impact: Tiny graph on 4K displays, wrong spacing\n   - Fix: Use `JBValue.UIInteger()` pattern (see `JujutsuLabelPainter.kt` for example)\n\n3. **Missing status indicator tooltips**\n   - Files: Both `JujutsuLogTableRenderers.kt` and `JujutsuGraphAndDescriptionRenderer.kt`\n   - Issue: Conflict/Empty/Immutable icons have no explanatory tooltips\n   - Impact: Users don't understand what icons mean\n   - Fix: Add HTML tooltips explaining each indicator\n\n### P1 - High Priority (Should Fix)\n\n4. **Hardcoded padding in description renderer**\n   - File: `JujutsuLogTableRenderers.kt:209`\n   - Issue: `HORIZONTAL_PADDING = 4` doesn't scale\n   - Fix: Use `JBValue` pattern\n\n5. **Hardcoded filter component spacing**\n   - File: `JujutsuFilterComponent.kt:37-39`\n   - Issue: `GAP_BEFORE_ARROW`, `BORDER_SIZE`, `ARC_SIZE` are raw ints\n   - Fix: Use `JBUI.scale()`\n\n### P2 - Nice to Have\n\n6. **Missing informative tooltips on columns**\n   - ChangeId: Could show full hex\n   - Author/Committer: Could show email address\n   - Low priority, not blocking\n\n7. **Column width scaling**\n   - File: `JujutsuLogTableRenderers.kt:470-479`\n   - Consider using `JBUI.scale()` for initial widths\n   - Very low priority, users can resize\n\n## Good Examples in Codebase\n\nReference these for correct patterns:\n- **Scaling**: `JujutsuLabelPainter.kt` (perfect JBValue usage)\n- **Themes**: `JujutsuColors.kt` (proper JBColor patterns)\n- **Tooltips**: Description tooltips in renderers (HTML formatting)\n\n## Testing Checklist\n\n- [ ] Test in light theme\n- [ ] Test in dark theme (Darcula)\n- [ ] Test at 100% UI scale\n- [ ] Test at 150% UI scale\n- [ ] Test at 200% UI scale\n- [ ] Verify all status tooltips show\n- [ ] Check graph colors have good contrast in both themes","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T18:55:43.219223Z","updated_at":"2026-01-14T19:10:49.03106Z","closed_at":"2026-01-14T19:10:49.03106Z","dependencies":[{"issue_id":"jj-idea-ckl","depends_on_id":"jj-idea-cc6","type":"blocks","created_at":"2025-12-21T18:56:14.963554Z","created_by":"daemon"},{"issue_id":"jj-idea-ckl","depends_on_id":"jj-idea-srz","type":"blocks","created_at":"2025-12-21T18:56:15.001384Z","created_by":"daemon"}]}
{"id":"jj-idea-crz","title":"jj edit capability","description":"Allow user to select a change in the log and edit that change. Explore UX options such as dragging the @ reference.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-24T20:42:06.467456Z","updated_at":"2026-01-15T20:57:05.858227Z","closed_at":"2026-01-15T20:57:05.858227Z"}
{"id":"jj-idea-cwr","title":"Fix hover effect to work across entire table row","description":"**Problem**: Hover effect only works on graph+description column, not entire row\n\n**Expected**: Like Git plugin, hovering over any cell in a row should highlight the entire row\n\n**Current**: Only the graph+description cell shows hover background\n\n**Solution**: Need to implement row-level hover tracking that updates all cells in the hovered row\n\n**Files**: JujutsuLogTable.kt, JujutsuLogTableRenderers.kt (Author/Date renderers need hover support)","status":"open","priority":3,"issue_type":"bug","created_at":"2025-12-23T15:57:35.385047Z","updated_at":"2025-12-23T15:57:35.385047Z"}
{"id":"jj-idea-d0x","title":"Auto-calculate graph column width based on max lanes","description":"Graph column width is too narrow by default, requiring manual expansion.\n\n**Problem**: Column width doesn't automatically accommodate all lanes\n\n**Current**: Fixed width (LANE_WIDTH * lanes), but table auto-resize cuts it off\n\n**Solution**: \n- Set minimum width based on max lane in graph\n- Disable auto-resize for graph column\n- Or calculate proper preferred width\n\n**File**: JujutsuGraphCellRenderer.kt - getPreferredSize()","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-22T08:52:39.643616Z","updated_at":"2025-12-23T10:51:18.296868Z","closed_at":"2025-12-23T10:51:18.296868Z","dependencies":[{"issue_id":"jj-idea-d0x","depends_on_id":"jj-idea-num","type":"blocks","created_at":"2025-12-22T08:53:00.761637Z","created_by":"daemon"}]}
{"id":"jj-idea-d19","title":"Add 'New Change' button to Changes tool window","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T20:06:49.330414Z","updated_at":"2026-01-12T18:42:01.17651Z","closed_at":"2026-01-12T18:42:01.17651Z"}
{"id":"jj-idea-d1o","title":"Handle conflict scenarios in VCS log deduplication","description":"**File**: JujutsuLogProvider.kt:54-56\n\n**TODO**: \"It is not as simple as the comment above implies. When we deal with conflicts, we will need to distinguish by commit id. Here, the id is actually the hash of the change id, so is no better than the change id.\"\n\n**Context**: The log provider deduplicates commits by hash:\n```kotlin\n// Convert to VcsCommitMetadata, deduplicating by hash\n// (JJ can have multiple change IDs for the same commit)\nval commits = limitedEntries.map { entry -\u003e JujutsuCommitMetadata(entry, root) }\n    .distinctBy { it.id.asString() }\n```\n\n**Problem**: JJ conflicts create multiple change IDs for related commits. The current deduplication loses information needed to properly display conflicts.\n\n**Investigation needed**:\n1. Understand JJ conflict representation\n2. Determine how conflicts should appear in the log\n3. May need to show conflict markers or multiple entries\n\n**Part of**: Future conflict handling feature (post-1.0)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-28T19:15:06.145892Z","updated_at":"2026-01-28T19:15:06.145892Z"}
{"id":"jj-idea-d6g","title":"Add sorting support to custom log","description":"","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-24T20:43:31.003402Z","updated_at":"2026-01-20T09:02:30.783845Z","dependencies":[{"issue_id":"jj-idea-d6g","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-24T20:44:46.743853Z","created_by":"daemon"}]}
{"id":"jj-idea-dhd","title":"Investigate and handle multi-root projects","description":"Investigate how the plugin behaves with multi-root projects and implement proper handling.\n\n## Scenarios to investigate\n1. **Multiple JJ roots** - Project with multiple independent JJ repositories\n2. **Mixed VCS** - Project with both JJ and Git repositories\n3. **Nested repositories** - JJ repo inside another VCS root or vice versa\n\n## Implementation Plan\n\n### Phase 1: Critical Bug Fixes ✅ COMPLETE\n| Issue | Title | Status |\n|-------|-------|--------|\n| ~~jj-idea-vb4d~~ | Working copy window shows no panes | ✅ Fixed |\n| ~~jj-idea-17x~~ | Fix silent error handling in JujutsuChangeProvider | ✅ Fixed |\n| ~~jj-idea-ar6~~ | Verify threading correctness in JujutsuCompareWithBranchAction | ✅ Fixed |\n\n### Phase 2: Foundation \u0026 Architecture\n| Issue | Title |\n|-------|-------|\n| jj-idea-8r9 | JujutsuRepository should map to VCS root |\n| jj-idea-ds9 | Investigate JujutsuLogProvider.getVcsRoot |\n| jj-idea-6yy | Clarify naming (paths/roots/repositories) |\n| jj-idea-4yi | Move error-handling logic to JJ root |\n\n### Phase 3: State Model Improvements\n| Issue | Title |\n|-------|-------|\n| jj-idea-8g6 | Refactor StartupActivity to state model listener |\n| jj-idea-850 | LogPanel state listener for whole log |\n| jj-idea-lp1 | Optimize state invalidation (can defer) |\n\n### Phase 4: Working Copy Window Refactor\n| Issue | Title |\n|-------|-------|\n| jj-idea-j50p | Refactor working copy for multi-root (single pane) |\n\n### Phase 5: Log Window Refactor\n| Issue | Title |\n|-------|-------|\n| jj-idea-9zmn | Refactor log to show all roots with filter |\n\n### Phase 6: Dynamic Pane Management\n| Issue | Title |\n|-------|-------|\n| jj-idea-w2v9 | Dynamically show/hide JJ/native log panes |\n| jj-idea-zcvs | Fix disposal error when opening native log pane in mixed VCS project |\n\n## Closed/Superseded\n- ~~jj-idea-xht~~ → superseded by jj-idea-j50p\n- ~~jj-idea-4tz~~ → superseded by jj-idea-9zmn\n- ~~jj-idea-28v~~ → duplicate of jj-idea-md4","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T09:21:43.633239Z","updated_at":"2026-02-02T21:41:58.596941Z","closed_at":"2026-02-02T21:41:58.596941Z","dependencies":[{"issue_id":"jj-idea-dhd","depends_on_id":"jj-idea-zcvs","type":"blocks","created_at":"2026-01-29T11:26:18.211244Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-dih","title":"Create promotional marketing materials","description":"Create additional marketing materials to promote the plugin after initial release.\n\n## Tasks\n\n- [ ] Create animated GIF/video demo\n  - Show typical workflow: describe → make changes → new change\n  - Highlight key features in action\n\n- [ ] Update README.md with better presentation\n  - Add logo/banner image\n  - Add screenshots\n  - Improve feature list with visuals\n\n## Context\n\nSplit from jj-idea-omi. These are nice-to-have materials that can be created after the initial marketplace listing is live.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T08:59:23.749681Z","updated_at":"2026-01-20T09:21:43.21153Z"}
{"id":"jj-idea-ds9","title":"Investigate JujutsuLogProvider.getVcsRoot implementation","description":"**File**: JujutsuLogProvider.kt:159\n\n**TODO**: \"This looks wrong - when is it called? Does this work for multi-root projects?\"\n\n**Context**: The `getVcsRoot` method simply returns the root parameter:\n```kotlin\noverride fun getVcsRoot(project: Project, root: VirtualFile, path: FilePath): VirtualFile {\n    log.debug(\"getVcsRoot() called for path: ${path.path}, root: ${root.path}\")\n    return root\n}\n```\n\n**Investigation needed**:\n1. Understand when IntelliJ calls this method\n2. Verify the implementation is correct for single-root projects\n3. Test behavior with multi-root projects\n4. Compare with Git plugin implementation\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T19:15:55.94987Z","updated_at":"2026-01-29T13:12:38.849555Z","closed_at":"2026-01-29T13:12:38.849555Z"}
{"id":"jj-idea-dtc","title":"Render refs/bookmarks with platform-style icons instead of colored text","description":"Replace the current colored text rendering of refs/bookmarks with fancy icons matching the platform's default Commit column appearance.\n\n## Current Implementation\n\nCustom Description column renders refs as colored text:\n- Bold, smaller font\n- Color from `VcsRef.type.backgroundColor`\n- Functional but less polished than platform's version\n\nExample: `description text  bookmark1 tag1 @`\n\n## Platform's Approach\n\nDefault Commit column uses sophisticated icon-based rendering:\n- **Bookmarks**: Small golden bookmark icon (path-based shape)\n- **Tags**: Colored rounded rectangles with tag name\n- **References**: Colored labels with ref type colors\n- **Compact mode**: Icons only, no text\n- **Tooltips**: Hover shows full ref details\n\n## Why This Is Hard\n\nAll icon rendering infrastructure is **internal-only**:\n\n### 1. VcsLogLabelPainter (internal)\nFrom `platform/vcs-log/impl/src/com/intellij/vcs/log/ui/render/VcsLogLabelPainter.kt`:\n```kotlin\ninternal class VcsLogLabelPainter(\n    private val logData: VcsLogData, \n    component: JComponent, \n    iconCache: LabelIconCache\n) : LabelPainter(component, iconCache) {\n    fun customizePainter(\n        references: Collection\u003cVcsRef\u003e,\n        bookmarks: Collection\u003cVcsBookmarkRef\u003e,\n        // ...\n    )\n}\n```\n\n### 2. BookmarkIcon (internal)\nFrom `platform/vcs-log/impl/src/com/intellij/vcs/log/ui/render/BookmarkIcon.java`:\n```java\npublic class BookmarkIcon implements Icon {\n  private final Color BOOKMARK_REF_TYPE_COLOR = \n      JBColor.namedColor(\"VersionControl.RefLabel.bookmarkBackground\",\n                         new JBColor(0xf4af3d, 0xd9a343));\n  \n  @Override\n  public void paintIcon(Component c, Graphics g, int iconX, int iconY) {\n    // Draws bookmark path shape\n    Path2D.Float path = new Path2D.Float();\n    path.moveTo(x, y);\n    // ... bookmark shape\n    g2.fill(path);\n  }\n}\n```\n\n### 3. LabelPainter (internal)\nFrom `platform/vcs-log/impl/src/com/intellij/vcs/log/ui/render/LabelPainter.java`:\n- Manages icon positioning and sizing\n- Handles compact vs. expanded mode\n- Calculates available width and truncation\n- All methods are `internal` or package-private\n\n### 4. LabelIcon (internal)\nRenders colored rounded rectangles for ref labels.\n\n## Possible Approaches (without custom log pane)\n\n### 1. Copy/Reimplement Icons (high effort)\n- Copy `BookmarkIcon`, `LabelIcon` source code\n- Reimplement `LabelPainter` logic\n- Maintain as platform updates\n- **Risk**: Legal/licensing concerns, high maintenance\n\n### 2. Reflection Access (fragile)\n```kotlin\n// Try to instantiate internal classes via reflection\nval painterClass = Class.forName(\"com.intellij.vcs.log.ui.render.VcsLogLabelPainter\")\n// Very fragile, breaks with obfuscation/changes\n```\n\n### 3. Custom Icons (medium effort)\n- Create our own bookmark/tag icon implementations\n- Won't match platform exactly but close approximation\n- Reasonable approach if custom log pane not pursued\n\n## Proper Solution\n\n**Requires custom VCS log pane** (see epic jj-idea-gyo):\n- Implement custom renderer with access to internal classes\n- Can use reflection or direct instantiation in custom UI\n- Full control over rendering pipeline\n- Can match platform appearance exactly\n\n## Visual Comparison\n\n**Current (colored text)**:\n```\nFix bug in parser  main trunk @\n```\n\n**Desired (with icons)**:\n```\nFix bug in parser  [📌 main] [📦 trunk] [@]\n```\n(where [📌] is golden bookmark icon, [📦] is colored rounded label, etc.)\n\n## Investigation References\n\nPlatform files studied:\n- `platform/vcs-log/impl/src/com/intellij/vcs/log/ui/render/VcsLogLabelPainter.kt`\n- `platform/vcs-log/impl/src/com/intellij/vcs/log/ui/render/BookmarkIcon.java`\n- `platform/vcs-log/impl/src/com/intellij/vcs/log/ui/render/LabelPainter.java`\n- `platform/vcs-log/impl/src/com/intellij/vcs/log/ui/render/LabelIcon.java`\n- `platform/vcs-log/impl/src/com/intellij/vcs/log/ui/render/GraphCommitCellRenderer.kt`\n\n## Dependency\nBlocked by jj-idea-gyo (Custom VCS log pane implementation)\n\n## Priority\nP2 - Nice to have, current colored text is functional","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T18:44:17.023107Z","updated_at":"2025-12-24T20:47:14.277596Z","closed_at":"2025-12-24T20:47:14.277596Z","dependencies":[{"issue_id":"jj-idea-dtc","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-18T18:44:23.90187Z","created_by":"daemon"},{"issue_id":"jj-idea-dtc","depends_on_id":"jj-idea-cc6","type":"blocks","created_at":"2025-12-21T18:56:15.728277Z","created_by":"daemon"}]}
{"id":"jj-idea-eh7","title":"Size the description text box","description":"In the working copy tool window, allow the description text box to grow until it (and the buttons below it) take up half of the height of the tool window OR stretch as far as possible without the change tree needing to have scroll bars, whichever is greater.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-11T18:10:22.53887Z","updated_at":"2026-01-20T09:02:31.80399Z","external_ref":"gl-37"}
{"id":"jj-idea-euv","title":"Optimize lane assignment to minimize diagonal crossings","description":"When assigning lanes for pure merge passthroughs, minimize the number of lanes each diagonal line crosses. Currently using simple 'next available lane' approach. This is a future optimization.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T13:38:02.221955Z","updated_at":"2026-01-20T13:38:02.221955Z"}
{"id":"jj-idea-ewo","title":"Click on change id in working copy pane selects change in log","description":"Ensure that clicking on change id (either for working copy or one of the parents) selects the specified change in the log pane in use - either the default VCS log pane or the fancy JJ-specific one","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-26T18:34:27.290617Z","updated_at":"2025-12-26T18:34:27.290617Z"}
{"id":"jj-idea-fd6","title":"Review selectWorkingCopyInTable proxy method in JujutsuLogPanel","description":"**File**: JujutsuLogPanel.kt:547\n\n**TODO**: \"Is this a useful proxy?\"\n\n**Context**: The method `selectWorkingCopyInTable()` simply delegates to `dataLoader.selectWorkingCopyInTable()`:\n```kotlin\nprivate fun selectWorkingCopyInTable() {\n    dataLoader.selectWorkingCopyInTable()\n}\n```\n\n**Question**: Is this proxy method adding value or just adding indirection?\n\n**Options**:\n1. Keep the proxy if it provides encapsulation or future extension point\n2. Remove and call dataLoader directly if it's pure indirection\n3. Add documentation explaining why the proxy exists\n\n**Low priority - code style question, not functional issue","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-28T19:14:57.129373Z","updated_at":"2026-01-28T19:14:57.129373Z"}
{"id":"jj-idea-fpc","title":"Support multi-select in log table","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T20:06:48.859778Z","updated_at":"2026-01-15T21:00:43.98893Z","closed_at":"2026-01-15T21:00:43.98893Z"}
{"id":"jj-idea-fse","title":"Track deleted file status in VcsFileRevisionEx","description":"VcsFileRevisionEx requires isDeleted() to indicate if a file was deleted in this revision.\n\n**Critical for read accuracy**: Without delete tracking, deleted files show incorrectly in history and diff views.\n\nCurrently returns hardcoded false. Should determine actual status from LogEntry.\n\n**Location**: JujutsuFileRevision.kt line 76\n\n**Implementation**:\n- Parse file status from jj log output (added/modified/removed)\n- Check if file appears in LogEntry's file changes with deleted status\n- Cache result to avoid repeated queries\n- Return true only when file was actually deleted in this commit\n\n**JJ provides**: File status in log template with `files` field\n\n**Acceptance Criteria**:\n- [ ] isDeleted() returns true for deleted files\n- [ ] Deleted files marked correctly in history view\n- [ ] Diff view handles deleted files properly\n- [ ] No performance regression from status checks","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T18:36:39.026646Z","updated_at":"2025-12-17T22:02:29.431494Z","closed_at":"2025-12-17T22:02:29.431494Z","dependencies":[{"issue_id":"jj-idea-fse","depends_on_id":"jj-idea-4kg","type":"blocks","created_at":"2025-12-17T18:44:39.144238Z","created_by":"daemon"}]}
{"id":"jj-idea-fy8","title":"Handle tag refs and review default ref type in JujutsuLogProvider","description":"**File**: JujutsuLogProvider.kt:179-181\n\n**TODOs**:\n- \"Is this a sensible default?\"\n- \"What about tags?\"\n\n**Context**: When reading refs, unknown ref types default to BOOKMARK:\n```kotlin\nval refType = when (refAtChange.ref) {\n    WorkingCopy -\u003e JujutsuLogRefManager.WORKING_COPY\n    is Bookmark -\u003e JujutsuLogRefManager.BOOKMARK\n    // TODO Is this a sensible default?\n    // TODO What about tags?\n    else -\u003e JujutsuLogRefManager.BOOKMARK\n}\n```\n\n**Investigation needed**:\n1. What other ref types exist in JJ? (tags, remote refs, etc.)\n2. Add proper handling for tags when JJ tag support matures\n3. Verify BOOKMARK is a reasonable default for unknown types\n\n**Priority**: P3 - JJ's tag support is still evolving","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-28T19:16:03.812864Z","updated_at":"2026-01-28T19:16:03.812864Z"}
{"id":"jj-idea-fzg","title":"Automatically replace standard log with custom log","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-24T20:44:08.643358Z","updated_at":"2025-12-28T18:32:32.082634Z","closed_at":"2025-12-28T18:32:32.082634Z","dependencies":[{"issue_id":"jj-idea-fzg","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-24T20:44:46.948648Z","created_by":"daemon"}]}
{"id":"jj-idea-gaof","title":"auto-select in log no longer works","description":"When performing certain actions, we send an event to cause the custom log table to select the working copy row. However, this is no longer working. For example, when abandoning a change, I expected the working copy to be selected, but it isn't.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-30T13:24:10.250206Z","updated_at":"2026-01-30T16:28:28.608024Z","closed_at":"2026-01-30T16:28:28.608024Z"}
{"id":"jj-idea-gl6","title":"Implement file rename detection in history","description":"JJ tracks file renames in its log output. We need to parse and expose this information in the file history view.\n\n**Critical for read accuracy**: Without rename tracking, file history breaks at renames - users lose access to pre-rename history.\n\nThe getRename() method in VcsLogFileHistoryHandler should:\n- Parse rename information from jj log output\n- Return Rename object when a file was renamed in a commit\n- Enable following file history across renames\n\n**Location**: JujutsuLogFileHistoryHandler.kt line 114 (getRename method)\n\n**Implementation**:\n- Check if LogEntry contains rename information\n- Extract old and new file paths from jj log --copies output\n- Return Rename object with before/after paths\n- Ensure history follows renames automatically\n\n**JJ Command**: `jj log --copies` shows copy/rename information\n\n**Acceptance Criteria**:\n- [ ] Detects renames from jj log output\n- [ ] Returns Rename with old/new paths\n- [ ] File history follows renames (pre-rename commits visible)\n- [ ] Test with renamed files in history view","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T18:36:38.70567Z","updated_at":"2025-12-17T22:02:29.426904Z","closed_at":"2025-12-17T22:02:29.426904Z","dependencies":[{"issue_id":"jj-idea-gl6","depends_on_id":"jj-idea-4kg","type":"blocks","created_at":"2025-12-17T18:44:39.090793Z","created_by":"daemon"}]}
{"id":"jj-idea-gyo","title":"[Epic] Custom VCS log pane implementation","description":"# Custom VCS Log Pane Implementation\n\nReplace IntelliJ's default VCS log UI with a custom implementation to enable deep customization of the log view that's not possible with the current public API.\n\n## Why Custom Implementation Needed\n\nThe IntelliJ VCS log framework has several limitations for plugins:\n\n1. **Fixed default columns**: `Root` and `Commit` columns are hardcoded and cannot be hidden or reordered\n2. **No column visibility control**: No public API to programmatically set column visibility (all column management APIs are `internal`)\n3. **Limited rendering customization**: Cannot use platform's internal rendering infrastructure (`VcsLogLabelPainter`, `BookmarkIcon`, etc.)\n4. **Column ordering restrictions**: Custom columns always appear after fixed platform columns\n\n## Investigation Findings\n\n### API Research (2025-12-21)\n\n**VCS Log Tab Creation APIs**:\n- `VcsLogContentUtil.openLogTab()` - Exists but requires already-created VcsLogUi\n- `VcsLogManager.getInstance()`, `createLogUi()` - Not available in public SDK\n- `VcsLogManager.openNewLogTab()` - Used internally by platform, not exposed\n- Most tab creation methods are in internal classes not accessible to plugins\n\n**Working Prototype Created**:\n- Service: `JujutsuCustomLogTabManager`\n- Action: `OpenJujutsuLogTabAction`\n- Currently opens standard VCS log (uses our custom columns via extension points)\n- Files: `src/main/kotlin/in/kkkev/jjidea/ui/JujutsuCustomLogTabManager.kt`\n\n**Limitations with Standard Approach**:\n- ✅ Custom columns work (Status, Change ID, Description, Committer)\n- ❌ Default columns (Root, Commit) cannot be hidden\n- ❌ Cannot control column ordering\n- ❌ Cannot access internal rendering APIs\n\n### Implementation Approach - Path B (Full Custom)\n\n**Decision**: Proceed with full custom VcsLogUi implementation despite complexity\n\n**Strategy**:\n1. Study IntelliJ platform source for VcsLogUi patterns\n2. Create custom VcsLogUiFactory implementation\n3. Build custom table model and column manager\n4. Use reflection or code copying to access internal rendering APIs\n5. Manage lifecycle properly to avoid memory leaks\n\n**Key Platform Classes to Study**:\n- `VcsLogUiImpl` - Main log UI implementation\n- `VcsLogGraphTable` - Table component\n- `GraphTableModel` - Table data model\n- `VcsLogColumnManager` - Column management (internal)\n- `VcsLogLabelPainter`, `BookmarkIcon` - Rendering (internal)\n\n## What Custom Implementation Would Enable\n\n1. **Complete column control**:\n   - Hide or replace default Commit column\n   - Position custom columns first\n   - Programmatic column visibility defaults\n\n2. **Advanced rendering**:\n   - Use platform's label painters and icons\n   - Custom graph rendering\n   - Right-aligned refs in description column\n\n3. **Custom UI/UX**:\n   - Different table layout\n   - Custom row rendering\n   - Additional UI controls\n\n## Dependent Tasks\n\nTasks that require custom log pane:\n- jj-idea-dtc: Render refs/bookmarks with platform-style icons\n- jj-idea-n0o: Right-align references in Description column\n- jj-idea-u4g: Replace/hide default Commit column\n\n## Complexity Assessment\n\n**Very High** - This is a significant undertaking:\n- Need to understand and replicate substantial platform VCS log infrastructure\n- Requires reflection or code copying to access internal APIs\n- Maintenance burden as platform evolves\n- Risk of breaking with platform updates\n\n**Mitigation**:\n- Start with basic feature parity\n- Isolate internal API usage for easier updates\n- Comprehensive testing\n- Document all assumptions and workarounds\n\n## Priority\n\nP2 - High priority. Extension point approach cannot achieve required customizations.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-18T18:42:42.366058Z","updated_at":"2025-12-28T18:06:20.802086Z","closed_at":"2025-12-28T18:06:20.802086Z"}
{"id":"jj-idea-h07","title":"Test issue","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T18:10:36.509712Z","updated_at":"2025-12-11T18:11:10.539971Z","closed_at":"2025-12-11T18:11:10.539971Z","external_ref":"gl-99"}
{"id":"jj-idea-hb8","title":"Implement file system event subscription for log refresh","description":"**File**: JujutsuLogProvider.kt:216\n\n**TODO**: \"Subscribe to file system events to refresh when .jj directory changes\"\n\n**Context**: The `subscribeToRootRefreshEvents` method returns an empty disposable:\n```kotlin\noverride fun subscribeToRootRefreshEvents(roots: Collection\u003cVirtualFile\u003e, refresher: VcsLogRefresher): Disposable {\n    // TODO: Subscribe to file system events to refresh when .jj directory changes\n    log.debug(\"Subscribed to refresh events for ${roots.size} roots\")\n    return Disposable { }\n}\n```\n\n**Implementation needed**:\n1. Subscribe to VFS events for .jj directory changes\n2. Call `refresher.refresh(root)` when changes detected\n3. Return proper Disposable for cleanup\n\n**Note**: The ToolWindowEnabler and JujutsuStateModel already have file watching. Consider reusing that infrastructure.\n\n**Impact**: Without this, VCS log doesn't auto-refresh when external JJ operations occur","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-28T19:16:35.875205Z","updated_at":"2026-01-28T19:16:35.875205Z"}
{"id":"jj-idea-i2e2","title":"Implement rename detection for file history","description":"**File**: JujutsuLogFileHistoryHandler.kt:110\n\n**TODO**: \"Implement rename detection for file history (lower priority)\"\n\n**Context**: The `getRename` method returns null:\n```kotlin\n@Throws(VcsException::class)\noverride fun getRename(\n    root: VirtualFile,\n    filePath: FilePath,\n    beforeHash: Hash,\n    afterHash: Hash\n): Rename? {\n    // TODO: Implement rename detection for file history (lower priority)\n    return null\n}\n```\n\n**Implementation needed**:\n1. Use JJ to detect if file was renamed between two commits\n2. Return Rename object with old and new paths\n3. Enables following file history across renames\n\n**JJ Command**: May need `jj diff --summary` or similar to detect renames","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-28T19:16:50.184345Z","updated_at":"2026-01-28T19:16:50.184345Z"}
{"id":"jj-idea-i4k5","title":"Add semantic 'log changed' state to state model","description":"Currently `repositoryStates` is used as a proxy for 'any log change'. A proper 'log changed' state would be semantically correct and allow finer-grained refresh.\n\n**Context**: The log panel listens to `repositoryStates` changes, but this is actually a working copy/repository state signal. When we want to refresh the log specifically (e.g., after operations that don't change working copy status), we don't have a proper semantic signal.\n\n**Proposed solution**:\n- Add a `logChanged` notifiable state to JujutsuStateModel\n- JujutsuLogPanel subscribes to this instead of repositoryStates\n- Operations that affect the log (new, edit, abandon, describe, etc.) invalidate logChanged\n- Operations that only affect working copy files invalidate repositoryStates\n\n**Benefits**:\n- Cleaner separation of concerns\n- Allows finer-grained refresh\n- More semantic state model\n\n**Related**: This emerged from jj-idea-850 during the workingCopies → repositoryStates rename.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-29T14:18:13.785422Z","updated_at":"2026-01-29T14:18:13.785422Z"}
{"id":"jj-idea-iyb","title":"Format change IDs in compare popup commits","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T12:07:18.434116Z","updated_at":"2025-12-20T12:45:31.371021Z","closed_at":"2025-12-20T12:45:31.371021Z"}
{"id":"jj-idea-j50p","title":"Refactor working copy tool window for multi-root support","description":"Refactor the working copy tool window to better support multi-root projects.\n\n## Current Problem\nThe changes list currently shows all changes for all JJ roots, even though each pane theoretically shows only a single root.\n\n## Proposed Design\n\n### Single Pane Layout\nSwitch from multiple panes (one per root) to a single unified pane:\n\n1. **Changes list at top** - Shows changes across all roots\n2. **Working copy controls below** - Change ID, parent(s), description fields\n   - Shows details for the selected change's root\n   - If changes from multiple roots are selected: disable controls or show explanatory message\n\n### Empty Root Navigation\nNeed a way to navigate to working copy controls for roots with no file changes.\n\n**Options to consider:**\n1. Always show root nodes in the changes tree (even when empty)\n2. Separate root selector UI element (dropdown/tabs) for multi-root projects\n3. Status bar or header showing current root with switcher\n\n### Single-Root Behavior\nFor single-root projects, no root selection needed - working copy is unambiguous.\n\n## Implementation Notes\n- Changes tree already groups by directory; may need root-level grouping\n- Working copy controls need to track \"active root\" based on selection\n- Consider how this interacts with the log window (separate issue)\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T20:46:08.641355Z","updated_at":"2026-01-29T18:59:42.709812Z","closed_at":"2026-01-29T18:59:42.709812Z","dependencies":[{"issue_id":"jj-idea-j50p","depends_on_id":"jj-idea-dhd","type":"blocks","created_at":"2026-01-28T20:46:21.912838Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-jbb","title":"Implement VcsLogUi minimal interface (properties, facade, disposal)","description":"Implement data loading and table model.\n\nCreate:\n- JujutsuLogTableModel extending AbstractTableModel\n- JujutsuLogDataLoader for background loading\n- Load commits from JujutsuLogProvider/LogService\n- Update model on EDT\n- Handle basic pagination/limits\n\nUses our existing JujutsuLogProvider, not VcsLogData.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:42.254126Z","updated_at":"2025-12-21T21:36:11.837346Z","closed_at":"2025-12-21T21:36:11.837346Z","dependencies":[{"issue_id":"jj-idea-jbb","depends_on_id":"jj-idea-9to","type":"blocks","created_at":"2025-12-21T18:56:14.285503Z","created_by":"daemon"},{"issue_id":"jj-idea-jbb","depends_on_id":"jj-idea-x6m","type":"blocks","created_at":"2025-12-21T20:55:49.051376Z","created_by":"daemon"}]}
{"id":"jj-idea-jgpa","title":"Allow to highlight change from annotation","description":"Currently, there is no way to get more information on an annotation. It should be possible to get from here to the history of the file with the current change highlighted in the log. Ideally, this would reuse the custom log window rather than use the native mechanism.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T19:11:20.826703Z","updated_at":"2026-02-08T19:11:20.826703Z"}
{"id":"jj-idea-jnv","title":"Add graph line style configuration (straight vs curved)","description":"","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-24T20:45:26.369975Z","updated_at":"2025-12-24T20:45:26.369975Z","dependencies":[{"issue_id":"jj-idea-jnv","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-24T20:45:31.830485Z","created_by":"daemon"}]}
{"id":"jj-idea-kem","title":"Test feature parity with existing log tab","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-20T17:12:21.563494Z","updated_at":"2026-02-08T20:50:16.477521Z","closed_at":"2026-02-08T20:50:16.477521Z","dependencies":[{"issue_id":"jj-idea-kem","depends_on_id":"jj-idea-c5p","type":"blocks","created_at":"2025-12-20T17:12:28.702029Z","created_by":"daemon"}]}
{"id":"jj-idea-l15","title":"Settings/Configuration UI","description":"**Priority**: MEDIUM (Phase 2 - Simple write operations)\n**Effort**: 1-2 days\n\n## Description\nConfigurable panel for plugin settings.\n\n## User Experience\n- Settings → Version Control → Jujutsu\n- Configure JJ executable path\n- UI preferences\n\n## Settings\n- JJ executable path (with file picker)\n- Auto-refresh enabled/disabled\n- Show change IDs in short or long format\n- Number of changes to show in log (default 50)\n\n## Implementation\n```kotlin\n@State(name = \"JujutsuConfiguration\",\n       storages = [Storage(\"jujutsu.xml\")])\nclass JujutsuConfiguration : PersistentStateComponent\u003cJujutsuConfigState\u003e\n```\n\n## Registration\n```xml\n\u003cprojectConfigurable\n    id=\"vcs.Jujutsu\"\n    displayName=\"Jujutsu\"\n    instance=\"in.kkkev.jjidea.settings.JujutsuConfigurable\"\n    parentId=\"project.propVCSSupport.Mappings\" /\u003e\n```\n\n## Acceptance Criteria\n- [ ] Settings panel under Version Control → Jujutsu\n- [ ] JJ executable path configurable\n- [ ] Auto-refresh toggle\n- [ ] Settings persist across restarts\n- [ ] Validation for executable path\n- [ ] Apply/Reset buttons work\n\n## References\nSee ROADMAP.md Phase 2 - Simple Write Operations\nSee VCS_API_REFERENCE.md - Configuration section","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-11T18:10:21.617874Z","updated_at":"2025-12-24T17:35:10.674978Z","closed_at":"2025-12-24T17:35:10.674978Z","external_ref":"gl-20","labels":["enhancement","phase-2"]}
{"id":"jj-idea-lnz","title":"Remove graph column heading","description":"**Goal**: Remove column heading from graph column\n\n**Rationale**: Graph doesn't need a heading - it's visual decoration only\n\n**Current**: Shows 'Graph' or similar heading\n**Target**: Empty/no heading for graph column\n\n**Note**: If we combine graph+description, this becomes the description column heading\n\n**Files**: JujutsuLogTableModel.kt - column names","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-23T10:51:32.006735Z","updated_at":"2025-12-23T17:48:32.987295Z","closed_at":"2025-12-23T17:48:32.987295Z","dependencies":[{"issue_id":"jj-idea-lnz","depends_on_id":"jj-idea-6sg","type":"blocks","created_at":"2025-12-23T10:52:01.167275Z","created_by":"daemon"}]}
{"id":"jj-idea-lp1","title":"Optimize state invalidation for single-repo changes","description":"**File**: JujutsuStateModel.kt:42\n\n**TODO**: \"This invalidates the entire state even if a single repo changed\"\n\n**Context**: The `workingCopies` notifiable state recomputes all working copies across all repositories when any single repository changes. For multi-root projects this is inefficient.\n\n**Optimization**: Consider:\n1. Finer-grained invalidation by repository\n2. Invalidate only the affected repository's working copy\n3. May require restructuring the notifiable state to be keyed by repository\n\n**Impact**: Performance improvement for multi-root projects. Low priority for single-root projects.\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-28T19:08:10.689297Z","updated_at":"2026-01-28T19:08:10.689297Z"}
{"id":"jj-idea-lt0","title":"Localise all resources","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T18:10:22.267617Z","updated_at":"2025-12-24T20:27:23.598514Z","closed_at":"2025-12-24T20:27:23.598514Z","external_ref":"gl-32"}
{"id":"jj-idea-lvk8","title":"Selectively remove Jujutsu prefix from class names","description":"Many classes in this plugin have Jujutsu as a prefix. Look at where this is absolutely necessary and remove where it is not. A lot of the time, it is obvious from the scope of the plugin or the package hierarchy that the class is JJ-specific.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T18:30:33.971193Z","updated_at":"2026-02-04T18:30:33.971193Z"}
{"id":"jj-idea-m6z","title":"Add status indicators and change ID before description","description":"**Goal**: Add status indicators and change ID prefix before description text\n\n**Layout**: [Graph] [Status Icons] [ChangeID] Description text\n\n**Status Indicators**:\n- Working copy (edit icon or similar)\n- Conflict (warning icon)\n- Empty (special indicator)\n- Immutable (lock icon?)\n\n**Change ID**: Short form (e.g., `qpvuntsm`) before description\n\n**Alignment**: Left-aligned with rightmost graph lane\n\n**Files**: Combined column renderer","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T10:51:31.707938Z","updated_at":"2025-12-23T16:07:00.007386Z","closed_at":"2025-12-23T16:07:00.007386Z","dependencies":[{"issue_id":"jj-idea-m6z","depends_on_id":"jj-idea-6sg","type":"blocks","created_at":"2025-12-23T10:52:00.907694Z","created_by":"daemon"}]}
{"id":"jj-idea-md4","title":"Working copy updates do not always refresh","description":"When performing file operations outside of the IDE, they are not picked up by the Working Copy pane, even when hitting the refresh button. The problem is that the refresh button just reloads from the cache rather than invalidating the cache.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-27T20:32:42.515102Z","updated_at":"2026-01-31T12:20:51.099548Z","closed_at":"2026-01-31T12:20:51.099548Z"}
{"id":"jj-idea-mpv","title":"Colocated repositories detected as Git rather than JJ","description":"A colocated JJ/Git repository is auto-detected by IntelliJ as a Git repository. Ideally, JJ would trump this and ensure that IntelliJ identifies the root as JJ rather than Git","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-20T21:12:29.542388Z","updated_at":"2026-02-02T14:00:17.315849Z","closed_at":"2026-02-02T14:00:17.315849Z"}
{"id":"jj-idea-n0o","title":"Right-align references/bookmarks in Description column","description":"Currently, references (bookmarks, tags, @) are appended inline after the description text. For better visual alignment with the platform's default Commit column, these should be right-aligned within the column.\n\n## Implementation Challenge\n\nThis requires custom painting beyond what `ColoredTableCellRenderer` provides:\n\n1. **ColoredTableCellRenderer limitation**: Only supports left-aligned text appending\n2. **Solution requires**: Override `paintComponent()` to manually position refs on the right\n3. **Similar to platform approach**: Platform uses `VcsLogLabelPainter` with explicit x-coordinate positioning\n\n## Technical Details\n\nPlatform's approach (from investigation):\n- `GraphCommitCellRenderer.RealCommitRendererComponent.paintComponent()` calculates position:\n  ```kotlin\n  val start = max(graphWidth, (width - referencePainter.getSize().width)).toInt()\n  referencePainter.paint(g2d, start, 0, height)\n  ```\n- Uses `LabelPainter` (internal API) which measures ref widths and paints at specific coordinates\n\n## Custom Implementation Needed\n\nWould require:\n1. Custom `TableCellRenderer` extending `JPanel` or similar\n2. Override `paintComponent()` to paint description left, refs right\n3. Measure available width and ref widths to calculate positioning\n4. Handle truncation when description + refs exceed column width\n\n## Related Files\n- `src/main/kotlin/in/kkkev/jjidea/vcs/log/JujutsuVcsLogColumns.kt` (JujutsuDescriptionRenderer)\n- Platform reference: `platform/vcs-log/impl/src/com/intellij/vcs/log/ui/render/GraphCommitCellRenderer.kt`\n\n## Dependency\nMay be easier to implement as part of custom VCS log pane implementation (see beads-XXX).\n\n## Priority\nP2 - Nice to have, current inline display is functional","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T18:41:59.473566Z","updated_at":"2025-12-24T20:47:14.278837Z","closed_at":"2025-12-24T20:47:14.278837Z","dependencies":[{"issue_id":"jj-idea-n0o","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-18T18:43:30.43153Z","created_by":"daemon"},{"issue_id":"jj-idea-n0o","depends_on_id":"jj-idea-srz","type":"blocks","created_at":"2025-12-21T18:56:15.767237Z","created_by":"daemon"}]}
{"id":"jj-idea-n1w","title":"Display bookmarks as tags in log view commit list","description":"**Problem:**\nThe log view doesn't visually display bookmarks next to commits like the Git plugin shows branches. Bookmarks are Jujutsu's equivalent to Git branches and should be prominently visible in the log.\n\n**Current Behavior:**\n- Log view shows commit graph and descriptions\n- No visual indication of which commits have bookmarks\n- Users can't quickly identify bookmarked commits\n\n**Expected Behavior:**\n- Show bookmark names as colored tags/labels next to commit descriptions (like Git branches)\n- Display bookmark icon/indicator\n- Use distinct colors for different bookmarks (similar to Git's branch coloring)\n- Show multiple bookmarks if a commit has several\n- Distinguish between local and remote bookmarks\n\n**Example (Git behavior):**\n```\n* abc1234 (main, origin/main) Commit message\n* def5678 (feature-branch) Another commit\n```\n\n**Implementation Notes:**\n- JujutsuLogProvider.readAllRefsInternal() already reads bookmarks\n- Bookmarks are returned as VcsRef with type BOOKMARK\n- Need to ensure refs are properly rendered in the log UI\n- May need to configure VcsLogRefManager.BOOKMARK type for proper display\n\n**Related:**\n- Issue #18: Bookmark management UI (mentions showing bookmarks but not specifically about visual display)\n- Issue #5: Bookmark management system\n\n**Priority:** HIGH - Bookmarks are essential for navigation in Jujutsu workflows","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-11T18:10:22.161306Z","updated_at":"2025-12-12T08:53:22.067452Z","closed_at":"2025-12-12T08:53:22.067452Z","external_ref":"gl-30","labels":["bookmarks","enhancement","git-parity","log","ui"]}
{"id":"jj-idea-n88l","title":"Fix action popup menu trace warning","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T11:52:38.187374Z","updated_at":"2026-01-30T11:52:38.187374Z"}
{"id":"jj-idea-ncg","title":"Add filtering and search toolbar to custom log","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:42.836717Z","updated_at":"2026-01-16T08:37:52.848259Z","closed_at":"2026-01-16T08:37:52.848259Z","dependencies":[{"issue_id":"jj-idea-ncg","depends_on_id":"jj-idea-5gw","type":"blocks","created_at":"2025-12-21T18:56:15.221469Z","created_by":"daemon"}]}
{"id":"jj-idea-nhq","title":"Ignore .jj directory","description":"For a jj repository, the project tool window should hide the .jj directory, like it does the .git directory","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T21:13:38.356403Z","updated_at":"2026-01-20T21:14:01.398774Z"}
{"id":"jj-idea-nj3c","title":"Custom file history panel to avoid Git actions in menu","description":"Create a fully custom file history UI for Jujutsu files instead of using IntelliJ's VCS Log integration.\n\n**Problem**: When using 'Show History' on a JJ file, the VCS Log-based file history shows Git actions (Revert, Cherry-pick, Create Patch) in the context menu because the Git plugin registers actions globally in Vcs.Log.ChangesBrowser.Popup without checking VCS type.\n\n**Solution**: Create a custom file history panel (similar to JujutsuLogPanel) with:\n- Custom revision list\n- Custom changes tree with JJ-only context menu (including 'Restore to This')\n- Full control over UI and actions\n\n**Current workaround**: Disabled vcsLogFileHistoryHandler to use older VcsHistoryProvider which has a simpler UI without the problematic popup.\n\n**Files to reference**:\n- JujutsuLogPanel.kt - example of custom log UI\n- JujutsuCommitDetailsPanel.kt - has working 'Restore to This' in context menu\n- JujutsuHistoryProvider.kt - current older history provider\n- JujutsuLogFileHistoryHandler.kt - disabled VCS Log integration","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-03T17:02:28.353867Z","updated_at":"2026-02-03T17:02:28.353867Z"}
{"id":"jj-idea-nk3","title":"Run a fuller suite of tests in the workflow","description":"CI barely runs any tests - anything dependent on the plugin framework classes seems to be excluded - Claude thinks for dependency reasons.\n\nWe need to fix this, so that the dependencies are available in CI and all tests can run.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T18:10:22.860836Z","updated_at":"2026-02-08T19:07:33.189213Z","closed_at":"2026-02-08T19:07:33.189213Z","external_ref":"gl-43"}
{"id":"jj-idea-noc","title":"Git remote management UI","description":"**Priority**: MEDIUM (Phase 3 - Remote operations)\n**Effort**: 1-2 days\n\n## Description\nManage Git remotes (list, add, remove, rename).\n\n## User Experience\n- Settings or separate tab: \"Remotes\"\n- List all configured remotes\n- Add new remote with name and URL\n- Remove remote\n- Rename remote\n\n## Commands\n- `jj git remote list`\n- `jj git remote add \u003cname\u003e \u003curl\u003e`\n- `jj git remote remove \u003cname\u003e`\n- `jj git remote rename \u003cold\u003e \u003cnew\u003e`\n\n## Implementation\n```kotlin\n// Add to JujutsuCommandExecutor\nfun gitRemoteList(): CommandResult\nfun gitRemoteAdd(name: String, url: String): CommandResult\nfun gitRemoteRemove(name: String): CommandResult\nfun gitRemoteRename(oldName: String, newName: String): CommandResult\n```\n\n## Acceptance Criteria\n- [ ] List all remotes\n- [ ] Add remote with name and URL\n- [ ] Remove remote\n- [ ] Rename remote\n- [ ] Validation for remote names and URLs\n- [ ] Integration with fetch/push actions\n\n## References\nSee ROADMAP.md Phase 3 - Remote Operations","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-11T18:10:21.726409Z","updated_at":"2026-01-13T10:56:00.017227Z","external_ref":"gl-22","labels":["enhancement","phase-3"]}
{"id":"jj-idea-num","title":"Implement commit graph layout algorithm","description":"Implement commit graph layout algorithm and basic rendering.\n\n✅ **Completed**:\n- Graph layout algorithm with lane assignment\n- Colored circles for commits  \n- Lines connecting adjacent commits (vertical)\n- Full branching algorithm (reuses lanes, handles merges)\n\n⚠️ **Known Issues** (sub-tasks created):\n- jj-idea-d0x (P2): Column width too narrow by default\n- jj-idea-uh1 (P2): Diagonal lines for merges not drawn\n- jj-idea-7x4 (P1): Pass-through lines missing when commits non-adjacent\n\n**Status**: Core implementation done, rendering bugs to fix","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T21:01:28.624129Z","updated_at":"2025-12-22T08:55:11.280994Z","closed_at":"2025-12-22T08:55:11.280994Z","dependencies":[{"issue_id":"jj-idea-num","depends_on_id":"jj-idea-7o5","type":"blocks","created_at":"2025-12-21T21:01:50.439305Z","created_by":"daemon"}]}
{"id":"jj-idea-ojc","title":"Format change ids in compare-with pop-up","description":"The compare-with popup shows changeids. Change the formatting to format them with short/remainder consistent with the rest of the application. Start with JujutsuCompareWithPopup. It gets change ids as strings, and has its own parser for the output of beads-metadata: mzmoywwp 6589be45 Exclude LogTemplateTest from simpleTest\ngithub: mzmoywwp 6589be45 Exclude LogTemplateTest from simpleTest\nmaster: vyrqzltx 37614a4a Document VCS log customization constraints and requirements\n  @github (ahead by 1 commits, behind by 7 commits): zyuwpxku 81d0f2c7 Update plugin repository for release\n  @origin (behind by 1 commits): nxnmmoly 693d408b Add VCS log column enhancements for Jujutsu\npush-qrrpnylvnton: qrrpnylv 1a94b630 Fix slow operation when showing annotations\nv0.1.0: rwstkpoy 5a135bc4 Update plugin repository XML for v0.1.0 release. Firstly, this command is templated - we should keep the specification and parsing of that template inside the cli package (as we do for logging) so that the executor returns astrongly-typed result. This means moving CompareItem.Bookmark into the jj package and having strongly-typed links to bookmark and change id, parsing the output correctly into change id. Then the popup can format this with the standard formatter.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T12:30:35.493261Z","updated_at":"2025-12-20T12:42:14.139566Z","closed_at":"2025-12-20T12:42:14.139566Z"}
{"id":"jj-idea-okn","title":"Format descriptions in compare popup (show '(no description)' in italics)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T12:07:18.581664Z","updated_at":"2025-12-20T14:20:54.122898Z","closed_at":"2025-12-20T14:20:54.122898Z"}
{"id":"jj-idea-omi","title":"Create marketing materials for plugin","description":"Create comprehensive marketing materials for the Jujutsu VCS IntelliJ IDEA plugin to prepare for wider distribution and promotion.\n\n## Tasks\n\n- [ ] Design a plugin logo/icon\n  - Should represent both JJ and IntelliJ\n  - Needs to work at various sizes (16x16, 32x32, 128x128, etc.)\n  - Should be distinctive and recognizable\n\n- [ ] Write compelling plugin description\n  - Short description (1-2 sentences) for JetBrains Marketplace\n  - Long description with key features and benefits\n  - Highlight JJ's unique \"describe-first\" workflow\n  - Emphasize native IntelliJ integration\n\n- [ ] Create screenshots\n  - Tool window showing changes view\n  - Diff viewer in action\n  - Describe/New Change workflow demonstration\n  - File status coloring and tree view\n  - Context menu and toolbar actions\n\n- [ ] Create animated GIF/video demo (optional but recommended)\n  - Show typical workflow: describe → make changes → new change\n  - Highlight key features in action\n\n- [ ] Update README.md with better presentation\n  - Add logo/banner image\n  - Add screenshots\n  - Improve feature list with visuals\n\n- [ ] Prepare JetBrains Marketplace listing\n  - All required metadata\n  - Proper categorization\n  - Keywords for discoverability\n\n## Context\n\nCurrent state:\n- Plugin is functional with core features implemented\n- No visual marketing materials exist yet\n- Description is technical/developer-focused rather than user-focused\n- Need materials before public release/promotion","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T18:10:22.051932Z","updated_at":"2026-01-20T09:00:48.130794Z","closed_at":"2026-01-20T09:00:48.130794Z","external_ref":"gl-28","comments":[{"id":4,"issue_id":"jj-idea-omi","author":"kevin","text":"Ensure that significant changes update the change log","created_at":"2026-01-16T08:43:56Z"}]}
{"id":"jj-idea-oq0","title":"Change graph visualization","description":"**Priority**: MEDIUM (Phase 4 - Complex operations)\n**Effort**: 5-7 days\n\n## Description\nGraphical display of change ancestry showing parent-child relationships.\n\n## User Experience\n- Visual graph in log view\n- See concurrent changes\n- Understand rebase/split/merge history\n- Click nodes to navigate\n\n## Implementation Options\n1. Custom renderer in JujutsuLogPanel\n2. VcsLogProvider integration (advanced)\n\n## Commands\n- `jj log --template=\u003cfields including parents\u003e`\n- Parse parent relationships\n- Build graph structure\n\n## Acceptance Criteria\n- [ ] Visual graph in log view\n- [ ] Shows parent-child relationships\n- [ ] Distinguishes first/second parent\n- [ ] Click node to view details\n- [ ] Handles complex rebase histories\n- [ ] Performance OK for 1000+ changes\n\n## References\nSee ROADMAP.md Phase 4 - Complex Operations","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-11T18:10:21.890921Z","updated_at":"2025-12-12T07:44:12.51446Z","closed_at":"2025-12-12T07:44:12.51446Z","external_ref":"gl-25","labels":["enhancement","phase-4"]}
{"id":"jj-idea-p16","title":"Remove or replace 'Not in any branch' message in log view details","description":"**Problem:**\nThe log view details pane (right-hand side) shows \"Not in any branch\" for all commits. This is incorrect for Jujutsu, which uses bookmarks instead of branches, and the Git concept of \"current branch\" doesn't apply.\n\n**Current Behavior:**\n- Details pane always shows: \"Not in any branch\"\n- Message is misleading since JJ doesn't use Git-style branches\n\n**Expected Behavior:**\nOption 1 (Simple): Remove this field entirely\nOption 2 (Better): Show bookmark information if the commit has bookmarks:\n  - \"Bookmarks: main, feature-x\" (if commit has bookmarks)\n  - Remove the field entirely if no bookmarks (don't show \"no bookmarks\")\n\nOption 3 (Best): Show working copy indicator:\n  - \"@ Working Copy\" (if this is the working copy commit)\n  - \"Bookmarks: main, feature-x\" (if commit has bookmarks)\n  - Remove field if neither applies\n\n**Implementation Notes:**\n- JujutsuLogProvider likely provides this through getCurrentBranch() which returns null\n- May need to customize the log details panel rendering\n- Could provide bookmark info through VcsLogProvider methods\n\n**Related:**\n- Issue #30: Display bookmarks as tags in log view\n- JujutsuLogEntry has isWorkingCopy property that could be used\n\n**Priority:** MEDIUM - Cosmetic issue but misleading to users","notes":"Requires same custom VCS log UI as jj-idea-rn8.\n\nThe 'Not in any branch' message comes from the standard CommitDetailsPanel which cannot be customized independently. Solution requires implementing custom VCS log UI via CustomVcsLogUiFactoryProvider.\n\nShould be implemented together with jj-idea-rn8 since both need custom details pane.\n\nPriority: Lower until custom VCS log UI foundation is built.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-11T18:10:22.214584Z","updated_at":"2026-01-15T21:07:55.030269Z","closed_at":"2026-01-15T21:07:55.030269Z","external_ref":"gl-31","labels":["bug","log","ui"],"dependencies":[{"issue_id":"jj-idea-p16","depends_on_id":"jj-idea-rn8","type":"blocks","created_at":"2025-12-19T08:38:50.887731Z","created_by":"daemon"},{"issue_id":"jj-idea-p16","depends_on_id":"jj-idea-6gx","type":"blocks","created_at":"2025-12-21T18:56:15.838627Z","created_by":"daemon"}]}
{"id":"jj-idea-p1q","title":"Add abandon function","description":"Allow users to abandon a change. Request confirmation if the change is not empty or has a non-empty description. When requesting confirmation, indicate why- i.e. there are changed files, there is a description, or both. This should be an action invoked from a change in the log. Ideally it would have an action indicating a delete function. Refresh the log following the abandon. As the currently selected change is deleted by this action, find a sensible UX for which change to select afterwards - a parent (possibly multiple), the working copy, or nothing.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-13T09:55:35.605533Z","updated_at":"2026-01-13T12:49:04.126435Z","closed_at":"2026-01-13T12:49:04.126435Z"}
{"id":"jj-idea-pa3","title":"Support multi-select files in commit details panel","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-13T10:48:42.195814Z","updated_at":"2026-02-09T15:21:27.688934Z","closed_at":"2026-02-09T15:21:27.688934Z","comments":[{"id":6,"issue_id":"jj-idea-pa3","author":"Kevin Thomas","text":"Some actions support multi-select, but others (e.g. diff) silently accept only the first selected change. Update all actions from the commit details panel (i.e. on individual file changes within a commit) to either support multi-select or be disabled if they cannot.","created_at":"2026-02-09T13:47:34Z"}]}
{"id":"jj-idea-pp0","title":"Localise \"Jujutsu Log\" display name in JujutsuCustomLogTabManager","description":"**File**: JujutsuCustomLogTabManager.kt:63\n\n**TODO**: \"Localise\"\n\n**Context**: The display name \"Jujutsu Log\" is hardcoded. It should be moved to JujutsuBundle.properties for i18n support.\n\n**Current code**:\n```kotlin\nval displayName = \"Jujutsu Log\" + root.relativePath.let { if (it.isEmpty()) \"\" else \": $it\" }\n```\n\n**Fix**: \n```kotlin\nval displayName = JujutsuBundle.message(\"log.tab.name\") + root.relativePath.let { ... }\n```\n\n**Part of**: General i18n cleanup","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-28T19:14:43.550786Z","updated_at":"2026-01-28T19:14:43.550786Z"}
{"id":"jj-idea-ptj","title":"Allow to describe any change","description":"Currently, the describe action works only on the working copy. I should be able to update the description on any mutable change.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T12:45:24.338442Z","updated_at":"2026-01-16T08:39:40.518376Z","closed_at":"2026-01-16T08:39:40.518376Z","comments":[{"id":2,"issue_id":"jj-idea-ptj","author":"kevin","text":"Can describe only *mutable* changes. Therefore this should be dependent on jj-idea-8u4.","created_at":"2026-01-13T16:00:16Z"}]}
{"id":"jj-idea-q0q","title":"Add graph node collapsing/expanding support","description":"","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-24T20:43:54.342743Z","updated_at":"2026-01-20T09:02:30.640099Z","dependencies":[{"issue_id":"jj-idea-q0q","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-24T20:44:46.89258Z","created_by":"daemon"}]}
{"id":"jj-idea-qgz","title":"Bookmark management UI","description":"**Priority**: HIGH (Phase 2 - Simple write operations)\n**Effort**: 2-3 days\n\n## Description\nCreate/delete/rename/move bookmarks (Jujutsu's version of branches).\n\n## User Experience\n- Bookmarks shown in log view\n- Right-click change → \"Create Bookmark Here\"\n- Right-click bookmark → \"Delete Bookmark\"\n- Right-click bookmark → \"Rename Bookmark\"\n- Right-click bookmark → \"Move to Change...\"\n\n## Implementation\nAdd to `JujutsuCommandExecutor`:\n```kotlin\nfun bookmarkCreate(name: String, changeId: String): CommandResult\nfun bookmarkDelete(name: String): CommandResult\nfun bookmarkRename(oldName: String, newName: String): CommandResult\nfun bookmarkSet(name: String, changeId: String): CommandResult\nfun bookmarkList(): CommandResult\n```\n\n## Commands\n- `jj bookmark create \u003cname\u003e -r \u003cchange-id\u003e`\n- `jj bookmark delete \u003cname\u003e`\n- `jj bookmark rename \u003cold\u003e \u003cnew\u003e`\n- `jj bookmark set \u003cname\u003e -r \u003cchange-id\u003e`\n- `jj bookmark list`\n\n## Acceptance Criteria\n- [ ] Create bookmark from context menu\n- [ ] Delete bookmark from context menu\n- [ ] Rename bookmark action\n- [ ] Move bookmark to different change\n- [ ] Bookmarks shown in log view\n- [ ] Current bookmark highlighted\n- [ ] Validation for bookmark names\n\n## References\nSee ROADMAP.md Phase 2 - Simple Write Operations","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-11T18:10:21.510248Z","updated_at":"2026-01-13T10:56:00.018289Z","external_ref":"gl-18","labels":["enhancement","phase-2"]}
{"id":"jj-idea-qvf","title":"Comprehensive testing of custom log UI","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-21T18:55:41.689414Z","updated_at":"2026-01-14T21:05:01.528928Z","closed_at":"2026-01-14T21:05:01.528928Z","dependencies":[{"issue_id":"jj-idea-qvf","depends_on_id":"jj-idea-ckl","type":"blocks","created_at":"2025-12-21T18:56:15.444663Z","created_by":"daemon"},{"issue_id":"jj-idea-qvf","depends_on_id":"jj-idea-unt","type":"blocks","created_at":"2025-12-21T18:56:15.483037Z","created_by":"daemon"}]}
{"id":"jj-idea-r8h","title":"Improved describe command with validation","description":"**Priority**: HIGH (Phase 2 - Simple write operations)\n**Effort**: 1 day\n\n## Description\nEnhance the existing \"Describe\" button with better validation and feedback.\n\n## Current Status\n- ✅ Describe button exists\n- ⚠️ Needs validation and error handling\n\n## User Experience\n- Validate description not empty\n- Show error if jj describe fails\n- Success notification\n- Clear description field after success (optional)\n\n## Implementation\nAdd validation to existing JujutsuToolWindowPanel describe handler.\n\n## Acceptance Criteria\n- [ ] Validates description not empty/whitespace\n- [ ] Shows error notification on failure\n- [ ] Shows success notification\n- [ ] Preserves description on failure\n- [ ] Updates current change display after success\n\n## References\nSee ROADMAP.md Phase 2 - Simple Write Operations","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-11T18:10:21.403848Z","updated_at":"2026-01-14T20:41:07.083174Z","closed_at":"2026-01-14T20:41:07.083174Z","external_ref":"gl-16","labels":["enhancement","phase-2"]}
{"id":"jj-idea-rn8","title":"Show formatted change IDs in log view details pane","description":"**Problem:**\nThe log view details pane (right-hand side) currently shows the commit ID but not the change ID. When viewing a commit, users need to see the change ID prominently since that's the primary identifier in Jujutsu.\n\n**Current Behavior:**\n- Right-hand pane shows \"Commit: \u003chash\u003e\" \n- No change ID visible\n- No formatting (bold/color) applied to identifiers\n\n**Expected Behavior:**\n- Show change ID prominently: \"Change: qpvuntsm\" with formatting\n  - Short prefix (\"qp\") in bold with highlight color\n  - Remainder (\"vuntsm\") in muted color\n- Optionally also show full commit ID below\n- Use the same formatting as elsewhere in the UI (JujutsuCommitFormatter)\n\n**Implementation Notes:**\n- Likely need to customize the log view details pane rendering\n- Apply JujutsuCommitFormatter.format() and toHtml() for consistent styling\n- May need to extend VcsLogProvider or customize the details panel\n\n**Priority:** HIGH - Change IDs are the primary way users interact with Jujutsu","notes":"Requires custom VCS log UI implementation.\n\nFinding: Details pane cannot be customized independently. Must implement:\n1. CustomVcsLogUiFactoryProvider extension\n2. Custom VcsLogUi extending VcsLogUiImpl  \n3. Override createMainFrame() to provide custom CommitDetailsPanel\n4. Custom panel to display JJ change IDs with formatting\n\nExample: Git plugin's BranchesInGitLogUiFactoryProvider\n\nThis is significant work (multiple components). Consider lower priority until other features complete.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-11T18:10:22.107563Z","updated_at":"2026-01-15T21:03:40.061662Z","closed_at":"2026-01-15T21:03:40.061662Z","external_ref":"gl-29","labels":["bug","log","ui"],"dependencies":[{"issue_id":"jj-idea-rn8","depends_on_id":"jj-idea-6gx","type":"blocks","created_at":"2025-12-21T18:56:15.876846Z","created_by":"daemon"}]}
{"id":"jj-idea-rxm","title":"Implement basic custom VcsLogUi with table and graph","description":"## Task: Implement Basic Custom VcsLogUi\n\n**Goal**: Create a custom VcsLogUi implementation with table and graph rendering\n\n**Progress**: Started skeleton implementation in `JujutsuCustomVcsLogUi.kt`\n\n**Complexity Discovered**:\n\nVcsLogUiEx interface requires implementing many methods:\n- `getTable()` - Returns VcsLogGraphTable\n- `getRefresher()` - Returns VisiblePackRefresher  \n- `getId()` - Returns unique ID string\n- `getVcsLog()` - Returns VcsLog facade\n- `getDataPack()` - Returns current VisiblePack\n- `getMainComponent()` - Returns main UI component\n- `getProperties()` - Returns VcsLogUiProperties (still missing)\n- And likely more...\n\n**Challenges**:\n\n1. **VcsLogGraphTable Creation**: Requires GraphTableModel, which needs:\n   - VcsLogData\n   - VisiblePackRefresher\n   - Custom column configuration\n   \n2. **VcsLog Facade**: Need to implement/wrap VcsLog interface\n\n3. **Properties Management**: VcsLogUiProperties for UI state\n\n4. **Lifecycle Management**: Proper Disposable implementation\n\n**Estimated Effort**: Much larger than initially thought - this is essentially reimplementing a significant portion of IntelliJ's VCS log UI.\n\n**Recommendation**: Consider whether simpler approaches could achieve our goals:\n- Enhanced column renderers with reflection for internal APIs?\n- Custom column provider with workarounds for limitations?\n- Accept some limitations to avoid this complexity?\n\n**Status**: Blocked pending decision on whether to continue with full implementation or pursue alternative approaches.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T17:12:21.14676Z","updated_at":"2025-12-21T18:58:03.1616Z","closed_at":"2025-12-21T18:58:03.1616Z","dependencies":[{"issue_id":"jj-idea-rxm","depends_on_id":"jj-idea-6d7","type":"blocks","created_at":"2025-12-20T17:12:28.589944Z","created_by":"daemon"}]}
{"id":"jj-idea-s1o2","title":"Unnecessary custom log columns","description":"As the description column contains important information such as icons, log and change id, it is pointless having additional columns containing this information. Remove these columns. While here, tidy up dead code from other column classes that are no lomger in use. Instead, when changing the column options, make that instead show/hide specific components of the combined description column.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-31T10:22:08.707466Z","updated_at":"2026-01-31T10:22:08.707466Z"}
{"id":"jj-idea-srz","title":"Implement right-aligned refs in Description column","description":"Implement right-aligned refs in the separate Description column renderer.\n\n## Current State\n\nThe plugin has two rendering modes:\n\n### 1. Combined Mode (Default - Already Working ✅)\n- Uses JujutsuGraphAndDescriptionRenderer\n- Decorations (bookmarks, @ symbol) are already right-aligned (lines 371-409)\n- Works by calculating decoration widths and painting them from right to left\n\n### 2. Separate Columns Mode (NOT Working ❌)\nWhen users enable separate columns:\n- SeparateDescriptionCellRenderer (line 129) - only shows description text\n- SeparateDecorationsCellRenderer (line 154) - shows @ and bookmarks left-aligned\n\n## What's Remaining\n\n### This Task (jj-idea-srz):\nImplement right-aligned refs in the **separate** Description column. This requires:\n\n1. **Merge decorations into Description column** - The separate Description renderer needs to include refs (currently they're in a separate Decorations column)\n\n2. **Create custom renderer** - Replace SeparateDescriptionCellRenderer (which extends ColoredTableCellRenderer) with a custom implementation that:\n   - Extends JPanel or similar (not ColoredTableCellRenderer)\n   - Overrides paintComponent() to manually position elements\n   - Paints description text left-aligned\n   - Paints refs/decorations right-aligned\n   - Handles truncation when content doesn't fit\n\n3. **Width calculations** - Similar to JujutsuGraphAndDescriptionRenderer:\n   - Calculate decoration widths (bookmarks + @ symbol)\n   - Reserve space on the right\n   - Truncate description if needed\n\n4. **Use platform APIs if available** - If jj-idea-u29 is completed, use VcsLogLabelPainter for native rendering; otherwise fall back to current simple text approach\n\n## Technical Challenge\n\nColoredTableCellRenderer only supports appending left-to-right, so custom painting is required for right alignment. The combined renderer already demonstrates this pattern (JujutsuGraphAndDescriptionRenderer lines 305-409).\n\n## Files to Modify\n- src/main/kotlin/in/kkkev/jjidea/ui/log/JujutsuLogTableRenderers.kt (SeparateDescriptionCellRenderer)\n","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:43.036928Z","updated_at":"2026-01-14T16:24:25.770196Z","closed_at":"2026-01-14T16:24:25.770196Z","dependencies":[{"issue_id":"jj-idea-srz","depends_on_id":"jj-idea-u29","type":"blocks","created_at":"2025-12-21T18:56:14.927037Z","created_by":"daemon"},{"issue_id":"jj-idea-srz","depends_on_id":"jj-idea-dtc","type":"blocks","created_at":"2026-01-14T08:57:53.604032Z","created_by":"kevin"}]}
{"id":"jj-idea-st7","title":"Decide on selection behavior after describe/new change operations","description":"**File**: WorkingCopyPanel.kt:439, 464\n\n**TODOs**:\n- Line 439: \"Should this select?\" (after describe operation)\n- Line 464: \"Should this also select?\" (after new change operation)\n\n**Context**: Both `describeCurrentChange()` and `createNewChange()` call `repo.invalidate()` without the `select = true` parameter. The TODO questions whether the working copy should be selected in the UI after these operations.\n\n**Current behavior**: Working copy is not selected after describe or new change\n**Question**: Should the working copy be selected to give visual feedback?\n\n**Recommendation**: Test both behaviors and decide based on UX. If selecting provides better feedback, pass `select = true` to invalidate().","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-28T19:08:38.598506Z","updated_at":"2026-01-28T19:08:38.598506Z"}
{"id":"jj-idea-svci","title":"Enable JetBrains Marketplace publishing in CI","description":"Add CI workflow step to publish plugin to JetBrains Marketplace on tag push.\n\n## Tasks\n\n### Add CI Publishing Step\nFile: .github/workflows/build.yml\nAdd publishPlugin step that runs on tag push.\n\n### Required Secrets (for user to configure)\n- PUBLISH_TOKEN - JetBrains Marketplace API token\n- CERTIFICATE_CHAIN - Plugin signing certificate (optional)\n- PRIVATE_KEY - Signing private key\n- PRIVATE_KEY_PASSWORD - Key password\n\n### User Actions Required\n1. Create JetBrains Hub account at hub.jetbrains.com\n2. Register at plugins.jetbrains.com\n3. Create initial plugin listing manually\n4. Generate API token: Hub → Profile → Tokens\n5. Add PUBLISH_TOKEN to GitHub Secrets\n6. Take screenshots (4-6 recommended)\n\n### Screenshots Needed\n- Working Copy panel\n- Custom log view with graph\n- Diff viewer\n- Describe workflow\n- Multi-repo support\n- Context menu","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T19:09:04.768573Z","updated_at":"2026-02-09T19:13:24.121014Z","closed_at":"2026-02-09T19:13:24.121014Z"}
{"id":"jj-idea-t9y","title":"Prepare JetBrains Marketplace listing materials","description":"Create materials required for JetBrains Marketplace listing.\n\n## Tasks\n\n- [ ] Design a plugin logo/icon\n  - Should represent both JJ and IntelliJ\n  - Needs to work at various sizes (16x16, 32x32, 128x128, etc.)\n  - Should be distinctive and recognizable\n\n- [ ] Write compelling plugin description\n  - Short description (1-2 sentences) for JetBrains Marketplace\n  - Long description with key features and benefits\n  - Highlight JJ's unique \"describe-first\" workflow\n  - Emphasize native IntelliJ integration\n\n- [ ] Create screenshots\n  - Tool window showing changes view\n  - Diff viewer in action\n  - Describe/New Change workflow demonstration\n  - File status coloring and tree view\n  - Context menu and toolbar actions\n\n- [ ] Prepare JetBrains Marketplace listing\n  - All required metadata\n  - Proper categorization\n  - Keywords for discoverability\n\n## Context\n\nSplit from jj-idea-omi. These are the essential materials needed before the plugin can be listed on the JetBrains Marketplace.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-20T08:59:23.619883Z","updated_at":"2026-01-20T08:59:23.619883Z","dependencies":[{"issue_id":"jj-idea-t9y","depends_on_id":"jj-idea-3z9y","type":"blocks","created_at":"2026-02-09T19:09:08.66098Z","created_by":"Kevin Thomas"},{"issue_id":"jj-idea-t9y","depends_on_id":"jj-idea-tnbh","type":"blocks","created_at":"2026-02-09T19:09:08.726481Z","created_by":"Kevin Thomas"},{"issue_id":"jj-idea-t9y","depends_on_id":"jj-idea-svci","type":"blocks","created_at":"2026-02-09T19:09:08.787692Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-tapn","title":"Empty marker doesn't update when making a change","description":"If I edit a change in the log that is marked as empty, and update a file, I expect the empty marker to remove immediately. It is only removed after explicitly refreshing the log pane.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T12:16:52.715328Z","updated_at":"2026-02-04T14:50:03.326695Z","closed_at":"2026-02-04T14:50:03.326695Z"}
{"id":"jj-idea-thk","title":"Allow abandon on multiple changes","description":"It is possible to abandon a single change from the log. It would be great to be able to multi-select log entries and abandon them all. This should be possible only if all selected changes are mutable.","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-15T20:47:54.31292Z","updated_at":"2026-01-15T20:47:54.31292Z"}
{"id":"jj-idea-tnbh","title":"Create plugin icon for marketplace listing","description":"Design and create a plugin icon for the JetBrains Marketplace listing.\n\n## Official Requirements (from JetBrains docs)\n\n**Dimensions:**\n- Canvas: 40×40px\n- Visible area: 36×36px (2px transparent padding on all sides)\n- Shape guidelines:\n  - Square: 32×32px\n  - Circle: 36px diameter\n  - Horizontal rectangle: 36×26px\n  - Vertical rectangle: 26×36px\n\n**Format:** SVG only, ideally \u003c2-3kB. No bitmap-to-SVG conversion.\n\n**Files:**\n- `src/main/resources/META-INF/pluginIcon.svg` (required, light theme)\n- `src/main/resources/META-INF/pluginIcon_dark.svg` (optional, dark theme)\n\n**Design:**\n- Ensure visibility on both light and dark backgrounds\n- Match visual weight of existing marketplace logos\n- Use technology's colors when available\n\n## AI Tools for SVG Logo Generation\n\n| Tool | Strengths | Link |\n|------|-----------|------|\n| **Recraft AI** | High-quality, multiple variations, style control | recraft.ai/generate/logos |\n| **SVGMaker.io** | Reliable free tier, text/image prompts | svgmaker.io |\n| **SVGai.org** | No signup, quick icons, clean code | svgai.org |\n| **Logo Diffusion** | Sketch-to-logo, 4 options per prompt | logodiffusion.com |\n| **Sologo AI** | Commercial-use ready, documented licenses | sologo.ai |\n\n## Prompt Suggestions\n- \"Minimalist version control icon, coral/orange accent, letter j or jj, flat design, 40x40\"\n- \"Software branching workflow icon, simple curves, orange gradient\"\n- \"VCS continuous flow symbol, modern flat design, coral #FF6B6B\"\n\n## Post-Generation\nSVGs are fully editable in Figma, Illustrator, or Inkscape for color/shape tweaks.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-09T19:08:59.336273Z","updated_at":"2026-02-09T19:19:31.840543Z"}
{"id":"jj-idea-twe","title":"Clarify file changes update in WorkingCopyPanel","description":"**File**: WorkingCopyPanel.kt:366\n\n**TODO**: \"What about file changes?\" with commented code: `// updateChangesView(model.fileChanges)`\n\n**Context**: The `update(logEntry: LogEntry)` method updates the description and label but has commented-out code for updating file changes. The TODO questions whether file changes should be updated here.\n\n**Investigation needed**:\n1. Determine if file changes should be updated when LogEntry changes\n2. If yes, uncomment and verify the code works\n3. If no, remove the commented code and TODO\n\n**Impact**: May affect UI consistency when working copy changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T19:08:32.001968Z","updated_at":"2026-01-31T10:17:08.808401Z","closed_at":"2026-01-31T10:17:08.808401Z"}
{"id":"jj-idea-u29","title":"Access internal rendering APIs (VcsLogLabelPainter, BookmarkIcon)","description":"## Goal\n\nAccess/implement platform-style rendering APIs similar to IntelliJ's VcsLogLabelPainter and BookmarkIcon for native-looking bookmark/reference rendering in the custom log UI.\n\n## Investigation\n\n### Platform APIs Found\n\n1. **VcsLogLabelPainter** (`vcs-log-impl`): \n   - Internal API (`@ApiStatus.Internal`)\n   - Handles rendering of VCS references and bookmarks with platform-native styling\n   - Uses LabelPainter base class for actual painting\n   - Manages ref grouping, colors, and layout\n\n2. **BookmarkIcon** (`vcs-log-impl`):\n   - Internal API (`@ApiStatus.Internal`)\n   - Renders bookmark flag icon with proper scaling and theming\n   - Color: `VersionControl.RefLabel.bookmarkBackground`\n   - Draws as small flag/ribbon shape\n\n3. **LabelPainter** (`vcs-log-impl`):\n   - Internal API (`@ApiStatus.Internal`)\n   - Base rendering class that paints reference labels\n   - Handles compact vs. long presentation modes\n   - Manages truncation, spacing, and icon rendering\n   - Uses rounded rectangles for label backgrounds\n\n### Availability\n\n- Already accessible via transitive dependency: `intellij.platform.vcs.log.impl`\n- Currently NOT imported or used in the plugin\n\n### Decision\n\n**Implement our own versions** instead of using internal APIs directly:\n\n**Rationale:**\n- Internal APIs can change/break between IntelliJ versions\n- We need JJ-specific adaptations anyway\n- Copying/adapting gives us full control\n- Can still maintain platform-native look and feel\n\n## Implementation Plan\n\n1. Create `JujutsuBookmarkIcon` - Icon for rendering bookmark flags\n   - Adapt rendering logic from platform's BookmarkIcon\n   - Use platform colors from theme\n   - Support proper scaling\n\n2. Create `JujutsuLabelPainter` - Utility for painting reference labels\n   - Adapt layout logic from platform's LabelPainter  \n   - Support both compact and expanded modes\n   - Handle truncation and spacing\n   - Use rounded rectangle backgrounds like platform\n\n3. Integration points:\n   - Use in `JujutsuGraphAndDescriptionRenderer` for right-aligned bookmarks\n   - Use in `SeparateDescriptionCellRenderer` for separate column mode\n   - Apply consistent styling across the plugin\n\n## Files to Create\n\n- `src/main/kotlin/in/kkkev/jjidea/ui/log/JujutsuBookmarkIcon.kt`\n- `src/main/kotlin/in/kkkev/jjidea/ui/log/JujutsuLabelPainter.kt`\n\n## Files to Modify\n\n- `src/main/kotlin/in/kkkev/jjidea/ui/log/JujutsuGraphAndDescriptionRenderer.kt`\n- `src/main/kotlin/in/kkkev/jjidea/ui/log/JujutsuLogTableRenderers.kt`","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:42.634136Z","updated_at":"2026-01-14T15:17:30.102409Z","closed_at":"2026-01-14T15:17:30.102409Z","dependencies":[{"issue_id":"jj-idea-u29","depends_on_id":"jj-idea-5gw","type":"blocks","created_at":"2025-12-21T18:56:14.848495Z","created_by":"daemon"}]}
{"id":"jj-idea-u4g","title":"Replace/hide default Commit (description) column","description":"Remove or hide the platform's default \"Commit\" column so only the custom Jujutsu Description column is visible, eliminating redundancy.\n\n## Current Situation\n\nBoth columns are currently visible:\n1. **Default \"Commit\" column** (platform):\n   - Shows commit subject/description\n   - Has fancy bookmark/tag icons\n   - Cannot be hidden (not a dynamic column)\n   - Always appears before custom columns\n\n2. **Custom \"Jujutsu.Description\" column**:\n   - Shows description with grey/italic for empty\n   - Shows refs/bookmarks with colored text\n   - Has tooltip with full description\n   - Can be hidden by user\n\n## Problem\n\n- Duplicate information displayed\n- User must manually hide custom column or live with redundancy\n- Default column cannot be hidden via UI or API\n- Default column always appears first, custom column comes after\n\n## Why This Is Hard\n\nThe default \"Commit\" column is **hardcoded as non-dynamic**:\n\nFrom `VcsLogDefaultColumn.kt`:\n```kotlin\nobject Commit : VcsLogDefaultColumn\u003cGraphCommitCell\u003e(\n    \"Default.Subject\", \n    VcsLogBundle.message(\"vcs.log.column.subject\"), \n    false  // \u003c-- isDynamic = false, cannot be hidden\n)\n\ncompanion object {\n  // Root and Commit are always included\n  private val defaultColumns = listOf(Root, Commit, Author, Date, Hash)\n}\n```\n\nFrom `VcsLogColumnUtil.kt`:\n```kotlin\nfun getDynamicColumns(): List\u003cVcsLogColumn\u003c*\u003e\u003e {\n  val columns: MutableList\u003cVcsLogColumn\u003c*\u003e\u003e = ArrayList()\n  columns.addAll(getDefaultDynamicColumns())  // Only Author, Hash, Date\n  columns.addAll(VcsLogCustomColumn.KEY.extensionList)\n  return columns.filter { it.isDynamic }  // Commit filtered out here\n}\n```\n\n**No public API exists** to:\n- Change `isDynamic` property of default columns\n- Remove columns from the default column list\n- Override column manager behavior\n- Programmatically hide specific columns\n\n## Possible Workarounds (without custom log pane)\n\n### 1. Reflection Hack (fragile)\n```kotlin\n// Access internal VcsLogColumnManager and remove Commit column\n// Very fragile, breaks with platform updates\n```\n\n### 2. Override Default Column (might not work)\n```kotlin\n// Try registering a column with id \"Default.Subject\"\n// May conflict with platform's registration\n```\n\n### 3. Accept Redundancy (current approach)\n- Document that users should manually hide one column\n- Not ideal UX but functional\n\n## Proper Solution\n\n**Requires custom VCS log pane** (see epic jj-idea-gyo):\n- Implement custom `VcsLogUi` that excludes default Commit column\n- Full control over column list and behavior\n- Significant implementation effort\n\n## Investigation References\n\nPlatform files studied:\n- `platform/vcs-log/impl/src/com/intellij/vcs/log/ui/table/column/VcsLogDefaultColumn.kt` (lines 37, 83-145)\n- `platform/vcs-log/impl/src/com/intellij/vcs/log/ui/table/column/VcsLogColumnUtil.kt` (lines 45-127)\n- `platform/vcs-log/impl/src/com/intellij/vcs/log/ui/table/column/VcsLogColumnManager.kt` (lines 30-56)\n\n## Dependency\nBlocked by jj-idea-gyo (Custom VCS log pane implementation)\n\n## Priority\nP2 - Annoying but not blocking, users can manually hide the unwanted column","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T18:43:19.939381Z","updated_at":"2025-12-24T20:42:39.468198Z","closed_at":"2025-12-24T20:42:39.468198Z","dependencies":[{"issue_id":"jj-idea-u4g","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-18T18:43:30.467601Z","created_by":"daemon"},{"issue_id":"jj-idea-u4g","depends_on_id":"jj-idea-53v","type":"blocks","created_at":"2025-12-21T18:56:15.804863Z","created_by":"daemon"}]}
{"id":"jj-idea-ugm","title":"Change buttons in working copy tool window","description":"The working copy tool window currently has buttons for \"Describe\" and \"New Change\". Describe updates the description, but the UX is odd - what happens if I change the description but don't press \"Describe\"? How can I revert the change to show what has been persisted? Investigate good UX practises around this. Options could be: (a) have OK/Cancel buttons to update or revert the description; (b) Auto-commit upon losing focus (and not bother with buttons); (c) have \"Describe\" and \"Cancel\" buttons to persist or rollback the change to the description box; (d) Make the description read-only and have a Describe button to perform the \"describe\" action that has its own OK/Cancel buttons. As for \"New Change\", while that is a useful feature, should it be a button? If so, it shouldn't be in the same group as the describe functionality. Perhaps a toolbar button would be more appropriate for this? Look at what else would eventually be accessible from this tool window, how many actions there would be, and figure out the most appropriate UX.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T15:06:38.131654Z","updated_at":"2026-01-13T21:18:11.756124Z","closed_at":"2026-01-13T21:18:11.756124Z"}
{"id":"jj-idea-uh1","title":"Draw diagonal lines for merges/branches in different lanes","description":"When parent is in a different lane than child, line should be diagonal\n\n**Problem**: Lines only draw straight down, not diagonally\n\n**Current behavior**: \n- Child in lane 0, parent in lane 1\n- Line goes straight down from lane 0, then jumps to lane 1\n\n**Expected**:\n- Diagonal line from (lane 0, bottom of child row) to (lane 1, top of parent row)\n\n**Example from screenshot**:\n- Orange commit (oq) in lane 1\n- Parent (py) in lane 0  \n- Should have diagonal line connecting them\n\n**File**: JujutsuGraphCellRenderer.kt - drawLinesToParents()","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-22T08:52:39.820271Z","updated_at":"2025-12-23T10:51:18.296252Z","closed_at":"2025-12-23T10:51:18.296252Z","dependencies":[{"issue_id":"jj-idea-uh1","depends_on_id":"jj-idea-num","type":"blocks","created_at":"2025-12-22T08:53:00.801267Z","created_by":"daemon"}]}
{"id":"jj-idea-uhu","title":"Add custom column support to custom log UI","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-20T17:12:21.285096Z","updated_at":"2026-01-20T09:02:31.06718Z","dependencies":[{"issue_id":"jj-idea-uhu","depends_on_id":"jj-idea-rxm","type":"blocks","created_at":"2025-12-20T17:12:28.627942Z","created_by":"daemon"},{"issue_id":"jj-idea-uhu","depends_on_id":"jj-idea-5gw","type":"blocks","created_at":"2025-12-21T18:58:03.247092Z","created_by":"daemon"}]}
{"id":"jj-idea-un5","title":"New change command with options","description":"**Priority**: HIGH (Phase 2 - Simple write operations)\n**Effort**: 1-2 days\n\n## Description\nEnhance \"New Change\" button to support creating change with description and options.\n\n## Current Status\n- ✅ \"New\" button exists\n- ⚠️ Creates empty change, no description option\n\n## User Experience\n- Dialog: \"Create new change\"\n- Optional description field\n- Option: Create after current change vs. after parent\n- Success notification with new change ID\n\n## Implementation\n```kotlin\nfun createNewChange(description: String?, after: String?) {\n    val args = mutableListOf(\"new\")\n    if (description != null) args.addAll(listOf(\"-m\", description))\n    if (after != null) args.addAll(listOf(\"-A\", after))\n    vcs.commandExecutor.execute(args)\n}\n```\n\n## Commands\n- `jj new` - Create new change after @\n- `jj new -m \"desc\"` - Create with description\n- `jj new -A \u003cchange-id\u003e` - Create after specific change\n\n## Acceptance Criteria\n- [ ] Dialog for new change options\n- [ ] Optional description field\n- [ ] Optional \"after\" change selection\n- [ ] Success notification\n- [ ] Refreshes changes view\n- [ ] Updates current change display\n\n## References\nSee ROADMAP.md Phase 2 - Simple Write Operations","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-11T18:10:21.457559Z","updated_at":"2026-01-13T10:56:00.018644Z","external_ref":"gl-17","labels":["enhancement","phase-2"],"comments":[{"id":1,"issue_id":"jj-idea-un5","author":"kevin","text":"This is already possible. The new change action already requests a description, and it can be invoked from a specific point in the log. Is there any more to be done here?","created_at":"2026-01-12T18:55:19Z"}]}
{"id":"jj-idea-unt","title":"Add context menu and actions to custom log","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:55:43.210827Z","updated_at":"2026-01-12T17:52:17.011871Z","closed_at":"2026-01-12T17:52:17.011871Z","dependencies":[{"issue_id":"jj-idea-unt","depends_on_id":"jj-idea-5gw","type":"blocks","created_at":"2025-12-21T18:56:15.295217Z","created_by":"daemon"}]}
{"id":"jj-idea-uqc","title":"Fix the Github plugin repository","description":"Installation instructions refer to https://raw.githubusercontent.com/kkkev/jj-idea/main/updatePlugins.xml but this doesn't exist. Ensure that this link is correct and that the build process updates this file so that users can update automatically.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T18:10:22.592758Z","updated_at":"2026-01-02T14:50:55.264764Z","closed_at":"2026-01-02T14:50:55.264764Z","external_ref":"gl-38"}
{"id":"jj-idea-uzz","title":"Add decorations on right: tags, bookmarks, working copy indicator with icons","description":"**Goal**: Add decorations on the right side of description, like Git plugin\n\n**Decorations** (right-aligned with icons):\n- Tags (label icon)\n- Bookmarks (bookmark icon)  \n- Working copy indicator (@)\n- HEAD indicator\n\n**Layout**: Description text [bookmark icon] main [tag icon] v1.0 [@]\n\n**Icons**: Use IntelliJ AllIcons where appropriate\n- Bookmarks: AllIcons.Vcs.Branch or similar\n- Tags: AllIcons.Vcs.Tag\n- Working copy: Custom @ symbol or AllIcons.Actions.Edit\n\n**Files**: Combined column renderer","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T10:51:31.868208Z","updated_at":"2025-12-23T16:07:00.00876Z","closed_at":"2025-12-23T16:07:00.00876Z","dependencies":[{"issue_id":"jj-idea-uzz","depends_on_id":"jj-idea-6sg","type":"blocks","created_at":"2025-12-23T10:52:01.039552Z","created_by":"daemon"}]}
{"id":"jj-idea-v1o","title":"Remove legacy log integration","description":"Now that we have a fully-fledged custom log tab, check if we still need the integration to support native log tabs. Part of this decision will be based on how we should handle projects with a mixture of VCSes - should we have a single log tab that interweaves e.g. JJ and Git logs?","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-22T10:54:32.204461Z","updated_at":"2026-01-22T10:54:32.204461Z","dependencies":[{"issue_id":"jj-idea-v1o","depends_on_id":"jj-idea-4rdy","type":"blocks","created_at":"2026-02-09T15:07:04.405501Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-v5x","title":"Add file actions","description":"Files in the Jujutsu log pane currently have a small set of actions (open and show diff). They also need: Show Diff in a New Tab, Compare with Local, Compare Before with Local, Open Repository Version. Also, files in the working copy tool window need: Show Diff in a New Tab.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-13T15:52:03.920705Z","updated_at":"2026-02-08T17:51:19.509414Z","closed_at":"2026-02-08T17:51:19.509414Z","dependencies":[{"issue_id":"jj-idea-v5x","depends_on_id":"jj-idea-ch0k","type":"blocks","created_at":"2026-02-04T19:22:17.714269Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-vb4d","title":"Working copy window shows no panes on single-root project open","description":"**Severity**: Urgent - core functionality broken\n\n## Problem\nWhen opening a single-root JJ project, the working copy tool window shows no panes/content.\n\n## Expected Behavior\nThe working copy tool window should display:\n- Changes list showing working copy file changes\n- Description text area\n- Change ID and parent information\n- Describe/New Change buttons\n\n## Investigation Areas\n1. Is the tool window factory being called?\n2. Is the state model detecting the JJ root?\n3. Is the panel being created but not displayed?\n4. Timing issue with project initialization?\n\n## Reproduction Steps\n1. Open a single-root JJ project\n2. Open the Working copy tool window\n3. Observe: no content/panes visible\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-28T20:48:47.951334Z","updated_at":"2026-01-29T11:26:02.860442Z","closed_at":"2026-01-29T11:26:02.860442Z","dependencies":[{"issue_id":"jj-idea-vb4d","depends_on_id":"jj-idea-dhd","type":"blocks","created_at":"2026-01-28T20:48:51.267202Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-vry","title":"Add structured filtering to custom log (user, branch, etc.)","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-24T20:43:46.375383Z","updated_at":"2025-12-31T13:50:21.715618Z","closed_at":"2025-12-31T13:50:21.715618Z","dependencies":[{"issue_id":"jj-idea-vry","depends_on_id":"jj-idea-gyo","type":"blocks","created_at":"2025-12-24T20:44:46.813704Z","created_by":"daemon"}]}
{"id":"jj-idea-vvr","title":"Remove hyphen between change id and summary in compare popup","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T12:07:19.705107Z","updated_at":"2025-12-20T15:09:36.955151Z","closed_at":"2025-12-20T15:09:36.955151Z"}
{"id":"jj-idea-vwxu","title":"Cope with stale workspaces","description":"When a workspace becomes stale, jj commands fail with a hint on how to fix. We need to detect these errors and fix accordingly. See this stack trace:\n\nat java.base/java.util.concurrent.Executors.call(Executors.java:572)\nat com.intellij.util.concurrency.ContextCallable.lambda(ContextCallable.java:86)\nat com.intellij.util.concurrency.ContextCallable.call(ContextCallable.java:95)\nFailed to load commits from \n\ncom.intellij.openapi.vcs.VcsException: Error from jj log: Error: The working copy is stale (not updated since operation 9b03b567c006).\nHint: Run  to update it.\nSee https://docs.jj-vcs.dev/latest/working-copy/\\#stale-working-copy for more information.\n\n\tat in.kkkev.jjidea.jj.cli.CliLogService.getLog-0E7RQCE(CliLogService.kt:156)\n\tat in.kkkev.jjidea.jj.cli.CliLogService.getLog-gIAlu-s(CliLogService.kt:56)\n\tat in.kkkev.jjidea.jj.LogService.getLog-gIAlu-s(LogService.kt:17)\n\tat in.kkkev.jjidea.ui.log.UnifiedJujutsuLogDataLoader.run(UnifiedJujutsuLogDataLoader.kt:97)\n\tat com.intellij.openapi.application.impl.ApplicationImpl.run(ApplicationImpl.j ...\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-08T15:28:06.157735Z","updated_at":"2026-02-08T15:29:03.664151Z"}
{"id":"jj-idea-vz2","title":"Set up UI integration tests for tree expansion behavior","description":"Set up full UI integration tests for the changes tree expansion behavior.\n\nCurrent state:\n- Unit tests exist for change detection logic (JujutsuTreeExpansionTest)\n- Full UI tests need IntelliJ Platform test fixtures\n\nWhat needs to be done:\n1. Enable the full `test` task with proper IntelliJ test fixtures\n2. Configure testFramework(TestFrameworkType.Platform) in build.gradle.kts\n3. Create integration tests that:\n   - Create mock projects with VCS changes\n   - Test actual tree expansion/collapse behavior\n   - Verify that new files expand parent directories\n   - Verify that deleted files don't affect expansion state\n   - Test mouse click handling (single click preview, double click diff)\n   - Test keyboard shortcuts (Enter, F4)\n\nBenefits:\n- Catch UI regressions automatically\n- Verify interaction with IntelliJ Platform APIs\n- Test real-world scenarios with actual tree components\n\nRelated:\n- Issue jj-idea-nk3: Run fuller test suite in CI (dependencies needed)\n- JujutsuTreeExpansionTest.kt: Existing unit tests for logic","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-12T17:13:44.494334Z","updated_at":"2026-01-20T09:02:31.512963Z"}
{"id":"jj-idea-w2v9","title":"Dynamically show/hide JJ and native log panes based on VCS roots","description":"Implement dynamic visibility of log panes based on the VCS roots configuration.\n\n## Requirements\n\n### Visibility Rules\n- **All roots are JJ**: Hide native VCS log pane, show only custom JJ log\n- **No roots are JJ**: Hide JJ log pane, show only native VCS log\n- **Mixed roots (JJ + other VCS)**: Show both panes\n\n### Dynamic Switching\nMust handle roots changing at runtime:\n- User adds/removes VCS mappings\n- User initializes JJ in a directory\n- User removes .jj directory\n\nPanes should come back to life when roots change - avoid permanent disposal.\n\n## Current Behavior\n- ToolWindowEnabler suppresses native log tabs when JJ is detected\n- JujutsuStartupActivity opens custom log on startup\n- Both use listeners but may not handle all transitions cleanly\n\n## Implementation Considerations\n1. Use state model listener for root changes (already have `initializedRoots`)\n2. Track pane visibility state separately from disposal\n3. Consider lazy creation - don't create panes until needed\n4. Handle the \"suppressor\" pattern more gracefully (currently removes content permanently)\n\n## Related Issues\n- jj-idea-8g6: Refactor JujutsuStartupActivity to state model listener\n- jj-idea-9zmn: Refactor log window to show all roots with root filter\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T20:51:25.514073Z","updated_at":"2026-02-02T13:50:06.820286Z","closed_at":"2026-02-02T13:50:06.820286Z"}
{"id":"jj-idea-wc3","title":"Investigate JujutsuLogFileHistoryHandler project-less construction","description":"**File**: JujutsuLogFileHistoryHandler.kt:22\n\n**TODO**: \"Can this constructor tolerate a lack of project?\"\n\n**Context**: The class constructor takes a `Project` parameter but doesn't currently use it. The TODO questions whether the constructor would work without a project.\n\n**Investigation needed**:\n1. Check if IntelliJ ever instantiates this handler without a project\n2. If project is required, add validation\n3. If project is unused, consider removing the parameter (if API allows)\n\n**Also noted**: Line 34 has another TODO: \"Fill this in\" for getSupportedFilters, and line 110 has \"Implement rename detection for file history\"\n\n**Priority**: P2 because this could cause NullPointerException in edge cases","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T19:08:25.52167Z","updated_at":"2026-01-28T19:08:25.52167Z"}
{"id":"jj-idea-wjo","title":"Implement RepositoryLocation for remote repository integration","description":"Implement RepositoryLocation for integration with remote repository (GitHub, GitLab, etc).\n\nCurrently getChangedRepositoryPath() returns null. Should return proper RepositoryLocation for:\n- Linking to remote repository in history view\n- \"Open in GitHub/GitLab\" actions\n- Remote diff viewing\n\n**Location**: JujutsuFileRevision.kt line 44\n\n**Implementation**:\n- Determine if repo has remote configured\n- Map file path to remote repository URL\n- Return RepositoryLocation with remote URL\n\n**Related**: jj-idea-4kg.8 (Open in remote)\n\n**Acceptance Criteria**:\n- [ ] Returns RepositoryLocation when remote is configured\n- [ ] Null for local-only repositories\n- [ ] Works with GitHub, GitLab, etc.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-17T18:36:39.371158Z","updated_at":"2025-12-17T18:41:52.763891Z"}
{"id":"jj-idea-ws0p","title":"Remove Darcula deprecation warnings","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-30T11:52:09.050488Z","updated_at":"2026-01-30T11:52:09.050488Z"}
{"id":"jj-idea-wvx","title":"Fill log pane across","description":"Ensure that the description column in the log pane expands to fill the width of the pane by default.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:17:01.706348Z","updated_at":"2026-01-13T21:51:02.115918Z","closed_at":"2026-01-13T21:51:02.115918Z"}
{"id":"jj-idea-ww5","title":"File ignoring support (.gitignore)","description":"**Priority**: MEDIUM (Phase 2 - Simple write operations)\n**Effort**: 1-2 days\n\n## Description\nSupport .gitignore for excluding files from VCS.\n\n## User Experience\n- Ignored files grayed out in tree\n- Right-click → \"Add to .gitignore\"\n- Right-click → \"Remove from .gitignore\"\n\n## Implementation\n```kotlin\nclass JujutsuIgnoredFileProvider {\n    fun isIgnored(file: VirtualFile): Boolean {\n        // Read .gitignore patterns\n        // Check if file matches\n    }\n}\n```\n\n## Integration\n- Use `ChangelistBuilder.processIgnoredFile(file)`\n- Custom FileStatus for ignored files\n\n## Acceptance Criteria\n- [ ] Reads .gitignore patterns\n- [ ] Ignored files grayed out\n- [ ] \"Add to .gitignore\" action\n- [ ] \"Remove from .gitignore\" action\n- [ ] Respects .gitignore hierarchy\n- [ ] Updates when .gitignore changes\n\n## Note\nJujutsu uses Git's .gitignore format automatically.\n\n## References\nSee ROADMAP.md Phase 2 - Simple Write Operations","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-11T18:10:21.566113Z","updated_at":"2026-01-13T10:56:00.017977Z","external_ref":"gl-19","labels":["enhancement","phase-2"]}
{"id":"jj-idea-wyal","title":"Bookmark names exclude remote spec","description":"In the custom log, bookmarks exclude the @remote suffix. Not only is this a loss of information, but also it looks odd when there are multiple identical-looking bookmarks at the same change.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-08T20:08:07.247804Z","updated_at":"2026-02-08T21:11:44.782663Z","closed_at":"2026-02-08T21:11:44.782663Z"}
{"id":"jj-idea-x6m","title":"Investigate VCS log internal API accessibility and alternatives","description":"## Investigation: Option B - Fully Custom Log UI\n\n**Decision**: Build completely custom table/graph UI from scratch, no VcsLogUiEx dependency.\n\n## Architecture: Standalone Custom Log UI\n\n### Core Principle\nDon't extend IntelliJ's VcsLogUi at all. Build our own UI that:\n- Uses our JujutsuLogProvider data directly\n- Has its own table component\n- Renders its own commit graph\n- Lives in our own tool window tab\n\n### Components to Build\n\n#### 1. Data Layer (Reuse existing)\n✅ Already have:\n- JujutsuLogProvider - provides commits\n- LogService - gets log entries\n- ChangeId, LogEntry - domain types\n\n#### 2. Table Component (Build from scratch)\n**JujutsuLogTable** - Custom JTable\n- Extends JTable directly (not VcsLogGraphTable)\n- Custom TableModel with our columns\n- No dependency on GraphTableModel\n- Columns:\n  - Graph (visual commit graph)\n  - Status (conflict/empty icons)\n  - Change ID (formatted)\n  - Description (with right-aligned refs)\n  - Author\n  - Date\n\n#### 3. Graph Rendering (Build custom)\n**JujutsuCommitGraphRenderer** - Custom cell renderer\n- Draw commit graph using Graphics2D\n- Circles for commits\n- Lines for parent relationships\n- Different colors for branches\n- Similar to VcsLogGraphTable but simpler\n\n#### 4. Column Renderers (Custom implementations)\n- **GraphCellRenderer** - Draws commit graph\n- **StatusCellRenderer** - Conflict/empty icons\n- **ChangeIdCellRenderer** - Bold prefix + gray remainder\n- **DescriptionCellRenderer** - Description + right-aligned bookmark icons\n- **AuthorCellRenderer** - Author name\n- **DateCellRenderer** - Relative dates\n\n#### 5. Main Panel (Custom layout)\n**JujutsuLogPanel** - Main UI component\n- JujutsuLogTable in scroll pane\n- Toolbar (refresh, filters)\n- Details pane (commit info when selected)\n- Status bar (commit count, etc.)\n\n#### 6. Data Loading (Custom)\n**JujutsuLogDataLoader** - Background loading\n- Load commits from JujutsuLogProvider\n- Build graph structure from parent relationships\n- Update table model on EDT\n- Handle pagination/incremental loading\n\n### Integration Points\n\n**Instead of VcsLogUi registration**:\n- Add tab to our existing 'Working copy' tool window\n- Or create new 'Jujutsu' tool window with multiple tabs\n- Use ContentFactory to create tabs\n\n**Data source**:\n- JujutsuLogProvider (already works)\n- Call logService.getLog() directly\n- No dependency on VcsLogData/VcsLogManager\n\n**Actions**:\n- Right-click context menu with our own actions\n- Double-click to show diff\n- Keyboard shortcuts (F4, Enter, etc.)\n\n## Advantages of This Approach\n\n1. **No internal API dependencies** - Only use public IntelliJ SDK\n2. **Complete control** - Every pixel is ours\n3. **Simpler codebase** - No fighting with platform abstractions\n4. **Jujutsu-native** - Design specifically for JJ concepts\n5. **Easier to maintain** - No platform update breakage\n6. **Faster iteration** - No reverse-engineering platform behavior\n\n## Challenges\n\n1. **Graph algorithm** - Need to implement commit graph layout\n2. **Performance** - Optimize for large repos (1000+ commits)\n3. **Polish** - Match platform look \u0026 feel\n4. **Features** - Implement filtering, search, etc.\n5. **Effort** - More code to write upfront\n\n## Implementation Plan\n\n### Phase 1: Basic Table (jj-idea-9to, jj-idea-jbb, jj-idea-57u)\n- JujutsuLogTable with basic columns (no graph yet)\n- Simple TableModel loading from LogService\n- Basic rendering (text only)\n- Show in tool window tab\n**Goal**: See commits in a table\n\n### Phase 2: Graph Rendering (new task)\n- Implement commit graph layout algorithm\n- GraphCellRenderer with Graphics2D\n- Parent relationship visualization\n**Goal**: Visual commit graph\n\n### Phase 3: Custom Renderers (jj-idea-53v, jj-idea-aq7)\n- All column-specific renderers\n- Icons, colors, formatting\n- Right-aligned refs in description\n**Goal**: Professional appearance\n\n### Phase 4: Features (jj-idea-9y2, jj-idea-ncg, jj-idea-6gx)\n- Details pane\n- Filtering/search\n- Context menu actions\n**Goal**: Feature parity with needs\n\n### Phase 5: Polish (jj-idea-qvf, jj-idea-035)\n- Performance optimization\n- Keyboard shortcuts\n- Testing\n**Goal**: Production ready\n\n## References for Graph Algorithm\n\n- Git log --graph implementation\n- Gitk graph rendering\n- IntelliJ's graph (for inspiration, not code reuse)\n\n## Decision: Proceed with Option B\n\nThis is more work upfront but gives us a maintainable, Jujutsu-native solution.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T20:55:29.51476Z","updated_at":"2025-12-21T21:01:44.69959Z","closed_at":"2025-12-21T21:01:44.69959Z"}
{"id":"jj-idea-xht","title":"Key WorkingCopyToolWindow panels by repo and sort by name","description":"**File**: WorkingCopyToolWindowFactory.kt:21\n\n**TODO**: \"Key by repo, make repos sortable by name (relative path)\"\n\n**Context**: The `panels` map is currently keyed by `String` (the relative path). The TODO suggests:\n1. Key by `JujutsuRepository` object instead of String\n2. Sort repositories by their relative path/name\n\n**Current code**: `private val panels = sortedMapOf\u003cString, PanelAndContent\u003e()`\n\n**Recommendation**: \n- Consider if keying by JujutsuRepository provides benefits over String key\n- The map is already sorted (sortedMapOf) by key, which should sort by relative path String\n\n**Part of**: jj-idea-dhd (multi-root handling epic)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T19:14:28.586684Z","updated_at":"2026-01-28T20:55:42.694961Z","closed_at":"2026-01-28T20:55:42.694961Z","dependencies":[{"issue_id":"jj-idea-xht","depends_on_id":"jj-idea-dhd","type":"blocks","created_at":"2026-01-28T19:16:56.095511Z","created_by":"Kevin Thomas"}]}
{"id":"jj-idea-xk3","title":"Default working copy tree to expanded","description":"In the working copy tool window, default all nodes to expanded","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T18:10:22.698998Z","updated_at":"2025-12-13T19:11:05.049635Z","closed_at":"2025-12-13T19:11:05.049635Z","external_ref":"gl-40"}
{"id":"jj-idea-xpe","title":"Fix slow operation when showing annotations","description":"When showing annotations, this error occurs periodically:\n```\n2025-12-07 20:52:50,921 [  11883]   WARN - #c.i.o.a.i.Utils - 1344 ms to fillMenu@EditorPopup\n2025-12-07 20:53:02,523 [  23485] SEVERE - #c.i.u.SlowOperations - Slow operations are prohibited on EDT. See SlowOperations.assertSlowOperationsAreAllowed javadoc.\njava.lang.Throwable: Slow operations are prohibited on EDT. See SlowOperations.assertSlowOperationsAreAllowed javadoc.\n\tat com.intellij.openapi.diagnostic.Logger.error(Logger.java:375)\n\tat com.intellij.util.SlowOperations.logError(SlowOperations.java:172)\n\tat com.intellij.util.SlowOperations.assertSlowOperationsAreAllowed(SlowOperations.java:120)\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexDataImpl.ensureIsUpToDate(WorkspaceFileIndexDataImpl.kt:282)\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexDataImpl.getFileInfo(WorkspaceFileIndexDataImpl.kt:226)\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getFileInfo(WorkspaceFileIndexImpl.kt:358)\n\tat com.intellij.openapi.roots.impl.ProjectFileIndexImpl.isUnderIgnored(ProjectFileIndexImpl.java:87)\n\tat com.intellij.openapi.roots.impl.ProjectFileIndexFacade.isUnderIgnored(ProjectFileIndexFacade.java:81)\n\tat com.intellij.openapi.vcs.impl.ProjectLevelVcsManagerImpl.lambda$isIgnored$6(ProjectLevelVcsManagerImpl.java:687)\n\tat com.intellij.openapi.application.impl.AppImplKt$rethrowCheckedExceptions$2.invoke(appImpl.kt:106)\n\tat com.intellij.platform.locking.impl.NestedLocksThreadingSupport.runReadAction(NestedLocksThreadingSupport.kt:784)\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:1043)\n\tat com.intellij.openapi.application.ReadAction.compute(ReadAction.java:66)\n\tat com.intellij.openapi.vcs.impl.ProjectLevelVcsManagerImpl.isIgnored(ProjectLevelVcsManagerImpl.java:679)\n\tat com.intellij.openapi.vcs.impl.projectlevelman.NewMappings.getMappedRootFor(NewMappings.java:617)\n\tat com.intellij.openapi.vcs.impl.ProjectLevelVcsManagerImpl.getVcsFor(ProjectLevelVcsManagerImpl.java:171)\n\tat com.intellij.openapi.vcs.annotate.FileAnnotation.createDefaultRevisionsChangesProvider(FileAnnotation.java:357)\n\tat com.intellij.openapi.vcs.annotate.FileAnnotation.getRevisionsChangesProvider(FileAnnotation.java:232)\n\tat com.intellij.openapi.vcs.actions.ShowDiffFromAnnotation.\u003cinit\u003e(ShowDiffFromAnnotation.java:51)\n\tat com.intellij.openapi.vcs.actions.AnnotateToggleAction.doAnnotate(AnnotateToggleAction.java:215)\n\tat com.intellij.openapi.vcs.actions.AnnotateToggleAction.doAnnotate(AnnotateToggleAction.java:140)\n\tat com.intellij.openapi.vcs.actions.AnnotateToggleAction.doAnnotate(AnnotateToggleAction.java:132)\n\tat com.intellij.openapi.vcs.actions.AnnotateLocalFileAction$1.onSuccess(AnnotateLocalFileAction.java:154)\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.finishTask(CoreProgressManager.java:658)\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.finishTask(ProgressManagerImpl.java:160)\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressAsynchronously$8(CoreProgressManager.java:565)\n\tat com.intellij.openapi.application.TransactionGuardImpl.runWithWritingAllowed(TransactionGuardImpl.java:240)\n\tat com.intellij.openapi.application.TransactionGuardImpl.access$100(TransactionGuardImpl.java:26)\n\tat com.intellij.openapi.application.TransactionGuardImpl$1.run(TransactionGuardImpl.java:202)\n\tat com.intellij.openapi.application.impl.AppImplKt$runnableUnitFunction$1.invoke(appImpl.kt:104)\n\tat com.intellij.openapi.application.impl.AppImplKt$runnableUnitFunction$1.invoke(appImpl.kt:104)\n\tat com.intellij.platform.locking.impl.NestedLocksThreadingSupport.doRunWriteIntentReadAction(NestedLocksThreadingSupport.kt:666)\n\tat com.intellij.platform.locking.impl.NestedLocksThreadingSupport.runPreventiveWriteIntentReadAction(NestedLocksThreadingSupport.kt:640)\n\tat com.intellij.platform.locking.impl.NestedLocksThreadingSupport.runWriteIntentReadAction(NestedLocksThreadingSupport.kt:633)\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:1022)\n\tat com.intellij.openapi.application.impl.ApplicationImpl$6.run(ApplicationImpl.java:574)\n\tat com.intellij.util.concurrency.ChildContext$runInChildContext$1.invoke(propagation.kt:167)\n\tat com.intellij.util.concurrency.ChildContext$runInChildContext$1.invoke(propagation.kt:167)\n\tat com.intellij.util.concurrency.ChildContext.runInChildContext(propagation.kt:173)\n\tat com.intellij.util.concurrency.ChildContext.runInChildContext(propagation.kt:167)\n\tat com.intellij.util.concurrency.ContextRunnable.run$$$capture(ContextRunnable.java:27)\n\tat com.intellij.util.concurrency.ContextRunnable.run(ContextRunnable.java)\n\tat --- Async.Stack.Trace --- (captured by IntelliJ IDEA debugger)\n\tat com.intellij.util.concurrency.ContextRunnable.\u003cinit\u003e(ContextRunnable.java:15)\n\tat com.intellij.util.concurrency.Propagation.capturePropagationContext(propagation.kt:468)\n\tat com.intellij.openapi.application.impl.ApplicationImpl.invokeLater(ApplicationImpl.java:417)\n\tat com.intellij.openapi.application.impl.ApplicationImpl.invokeLater(ApplicationImpl.java:404)\n\tat com.intellij.openapi.application.ex.ApplicationUtil.invokeLaterSomewhere(ApplicationUtil.kt:145)\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressAsynchronously$9(CoreProgressManager.java:563)\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n\tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2179)\n\tat com.intellij.openapi.progress.impl.ProgressRunner$ProgressRunnable.run$$$capture(ProgressRunner.java:515)\n\tat com.intellij.openapi.progress.impl.ProgressRunner$ProgressRunnable.run(ProgressRunner.java)\n\tat --- Async.Stack.Trace --- (captured by IntelliJ IDEA debugger)\n\tat com.intellij.openapi.progress.impl.ProgressRunner$ProgressRunnable.\u003cinit\u003e(ProgressRunner.java:505)\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$launchTask$20(ProgressRunner.java:473)\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887)\n\tat java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2357)\n\tat com.intellij.openapi.progress.impl.ProgressRunner.launchTask(ProgressRunner.java:468)\n\tat com.intellij.openapi.progress.impl.ProgressRunner.execFromEDT(ProgressRunner.java:308)\n\tat com.intellij.openapi.progress.impl.ProgressRunner.submit(ProgressRunner.java:255)\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcessWithProgressAsynchronously(CoreProgressManager.java:557)\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcessWithProgressAsynchronously(CoreProgressManager.java:491)\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcessWithProgressAsynchronously(CoreProgressManager.java:483)\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runAsynchronously(CoreProgressManager.java:460)\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.run(CoreProgressManager.java:443)\n\tat com.intellij.openapi.vcs.actions.AnnotateLocalFileAction.doAnnotate(AnnotateLocalFileAction.java:168)\n\tat com.intellij.openapi.vcs.actions.AnnotateLocalFileAction.perform(AnnotateLocalFileAction.java:101)\n\tat com.intellij.openapi.vcs.actions.AnnotateLocalFileAction$Provider.perform(AnnotateLocalFileAction.java:190)\n\tat com.intellij.openapi.vcs.actions.AnnotateToggleAction.setSelected(AnnotateToggleAction.java:122)\n\tat com.intellij.openapi.actionSystem.ToggleAction.actionPerformed(ToggleAction.java:62)\n\tat in.kkkev.jjidea.vcs.actions.JujutsuAnnotateAction.actionPerformed(JujutsuAnnotateAction.kt:30)\n\tat com.intellij.openapi.actionSystem.ex.ActionUtil.doPerformActionOrShowPopup(ActionUtil.kt:439)\n\tat com.intellij.openapi.actionSystem.ex.ActionUtil.performAction$lambda$7(ActionUtil.kt:399)\n\tat com.intellij.openapi.actionSystem.impl.ActionManagerImpl.performWithActionCallbacks(ActionManagerImpl.kt:1163)\n\tat com.intellij.openapi.actionSystem.ex.ActionUtil.performAction(ActionUtil.kt:398)\n\tat com.intellij.openapi.actionSystem.impl.ActionMenuItem.performAction$lambda$5(ActionMenuItem.kt:269)\n\tat com.intellij.openapi.wm.impl.FocusManagerImpl.runOnOwnContext(FocusManagerImpl.java:234)\n\tat com.intellij.openapi.actionSystem.impl.ActionMenuItem.performAction(ActionMenuItem.kt:262)\n\tat com.intellij.openapi.actionSystem.impl.ActionMenuItem._init_$lambda$0(ActionMenuItem.kt:71)\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n\tat com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed$lambda$4(ActionMenuItem.kt:102)\n\tat com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:110)\n\tat com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:99)\n\tat com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.kt:101)\n\tat com.intellij.ui.plaf.beg.BegMenuItemUI.doClick(BegMenuItemUI.java:521)\n\tat com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:554)\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6673)\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3394)\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6438)\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5043)\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4871)\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4963)\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4577)\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4518)\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2810)\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4871)\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:783)\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:728)\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:98)\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:755)\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:753)\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:752)\n\tat com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.kt:595)\n\tat com.intellij.ide.IdeEventQueue.dispatchMouseEvent(IdeEventQueue.kt:540)\n\tat com.intellij.ide.IdeEventQueue._dispatchEvent$lambda$16(IdeEventQueue.kt:479)\n\tat com.intellij.platform.locking.impl.NestedLocksThreadingSupport.doRunWriteIntentReadAction(NestedLocksThreadingSupport.kt:666)\n\tat com.intellij.platform.locking.impl.NestedLocksThreadingSupport.runPreventiveWriteIntentReadAction(NestedLocksThreadingSupport.kt:640)\n\tat com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.kt:479)\n\tat com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$12$lambda$11$lambda$10$lambda$9(IdeEventQueue.kt:313)\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:865)\n\tat com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$12$lambda$11$lambda$10(IdeEventQueue.kt:312)\n\tat com.intellij.ide.IdeEventQueueKt.performActivity$lambda$3(IdeEventQueue.kt:974)\n\tat com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:118)\n\tat com.intellij.ide.IdeEventQueueKt.performActivity(IdeEventQueue.kt:974)\n\tat com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$12(IdeEventQueue.kt:307)\n\tat com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:347)\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\n```","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T18:10:22.378687Z","updated_at":"2026-01-15T21:08:38.952775Z","closed_at":"2026-01-15T21:08:38.952775Z","external_ref":"gl-34"}
{"id":"jj-idea-xvdy","title":"JJ init changes VCS mapping for all roots instead of just target","description":"","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-30T17:59:04.052814Z","updated_at":"2026-02-02T21:38:57.577623Z","closed_at":"2026-02-02T21:38:57.577623Z"}
{"id":"jj-idea-ydb","title":"Fix flashing tooltip over bookmarks","description":"Tooltip flashes (appears/disappears repeatedly) when hovering over bookmarks in the log table.\n\n## Reproduction\n1. Open the Jujutsu log\n2. Hover over a row with bookmarks\n3. Observe tooltip flashing\n\n## Possible Causes\n- Renderer recreating components on each render\n- Hover detection causing repaints\n- Interaction between bookmark painting and tooltip handling\n\n## Files to Investigate\n- JujutsuGraphAndDescriptionRenderer.kt (combined column)\n- JujutsuLogTableRenderers.kt (SeparateDescriptionCellRenderer)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T19:10:22.988941Z","updated_at":"2026-02-08T20:00:18.791021Z","closed_at":"2026-02-08T20:00:18.791021Z"}
{"id":"jj-idea-yki9","title":"Implement supported filters in JujutsuLogFileHistoryHandler","description":"**File**: JujutsuLogFileHistoryHandler.kt:34\n\n**TODO**: \"Fill this in\"\n\n**Context**: The `getSupportedFilters` method returns an empty set:\n```kotlin\noverride fun getSupportedFilters(\n    root: VirtualFile,\n    filePath: FilePath,\n    hash: Hash?\n): Set\u003cVcsLogFilterCollection.FilterKey\u003c*\u003e\u003e {\n    // JJ doesn't support filters yet (branch, revision filters would go here)\n    // TODO Fill this in\n    return emptySet()\n}\n```\n\n**Implementation**: Add support for filters like:\n- Branch/bookmark filter\n- Revision range filter\n- Author filter\n\n**Dependency**: Requires understanding how to translate IntelliJ filters to JJ revsets","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-28T19:16:44.276407Z","updated_at":"2026-01-28T19:16:44.276407Z"}
{"id":"jj-idea-zcvs","title":"Fix disposal error when opening native log pane in mixed VCS project","description":"When trying to open a native log pane in the VCS tool window for a mixed VCS root project, an IncorrectOperationException is thrown because the parent VcsLogUiImpl has already been disposed.\n\nThe root cause is in ToolWindowEnabler.kt:100 - the contentAdded listener removes content immediately, causing the VcsLogUiImpl to be disposed before VcsLogContentUtil.openLogTab finishes initializing it.\n\nStack trace shows:\n1. OpenAnotherLogTabAction.actionPerformed triggers\n2. VcsLogContentUtil.openLogTab adds content\n3. ContentManagerImpl.fireContentAdded triggers our listener\n4. ToolWindowEnabler.contentAdded removes the content (disposing VcsLogUiImpl)\n5. VcsLogContentUtil.openLogTab tries to register a child disposable on the already-disposed parent\n6. IncorrectOperationException is thrown\n\nThe default log tab suppressor is too aggressive - it removes content synchronously in the contentAdded callback, which interferes with the platform's initialization sequence.\n\nPotential fix: Defer the removal with invokeLater, or check if the content is fully initialized before removing, or use a different approach to suppress default log tabs.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-29T08:44:31.943976Z","updated_at":"2026-01-29T12:50:20.560917Z","closed_at":"2026-01-29T12:50:20.560917Z"}
{"id":"jj-usbi","title":"Annotation tooltip unformatted","description":"The log window tooltip is formatted, so formatted tooltips are possible. However, the annotastion tooltip is currently unformatted and hence could improve from beautification","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-07T12:53:27.030374Z","updated_at":"2026-02-07T12:53:27.030374Z"}
